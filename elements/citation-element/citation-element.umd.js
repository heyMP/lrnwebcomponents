!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@polymer/polymer/polymer-element.js"),require("@polymer/polymer/lib/utils/render-status.js"),require("@polymer/polymer/lib/legacy/polymer.dom.js"),require("@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js"),require("@lrnwebcomponents/schema-behaviors/schema-behaviors.js"),require("@lrnwebcomponents/license-element/license-element.js")):"function"==typeof define&&define.amd?define(["exports","@polymer/polymer/polymer-element.js","@polymer/polymer/lib/utils/render-status.js","@polymer/polymer/lib/legacy/polymer.dom.js","@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js","@lrnwebcomponents/schema-behaviors/schema-behaviors.js","@lrnwebcomponents/license-element/license-element.js"],t):t((e=e||self).CitationElement={},e.polymerElement_js,e.renderStatus_js,e.polymer_dom_js,e.HAXWiring_js,e.schemaBehaviors_js,e.licenseElement_js)}(this,function(e,t,n,i,r,o,s){"use strict";function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function h(){var e,t,n=(e=['\n      <style>\n        :host {\n          display: block;\n          color: var("--license-text-color");\n        }\n        :host([display-method="footnote"]) {\n          visibility: hidden;\n          opacity: 0;\n        }\n        :host([display-method="popup"]) {\n          display: block;\n        }\n        .license-link {\n          font-size: 16px;\n          line-height: 16px;\n          font-style: italic;\n        }\n        .citation-date {\n          font-size: 16px;\n          line-height: 16px;\n          font-style: italic;\n        }\n        .license-link img {\n          height: 16px;\n          min-width: 16px;\n          margin-right: 8px;\n        }\n      </style>\n      <meta\n        about$="[[relatedResource]]"\n        property="cc:attributionUrl"\n        content$="[[source]]"\n      />\n      <meta\n        about$="[[relatedResource]]"\n        property="cc:attributionName"\n        typeof="oer:Text"\n        content$="[[title]]"\n      />\n      <meta\n        rel="cc:license"\n        href$="[[licenseLink]]"\n        content$="License: [[licenseName]]"\n      />\n      <cite\n        ><a target="_blank" href="[[source]]">[[title]]</a> by [[creator]],\n        licensed under\n        <a class="license-link" target="_blank" href="[[licenseLink]]"\n          ><img\n            alt="[[licenseName]] graphic"\n            src="[[licenseImage]]"\n            hidden&="[[!licenseImage]]"\n          />[[licenseName]]</a\n        >. Accessed <span class="citation-date">[[date]]</span>.</cite\n      >\n    '],(t=['\n      <style>\n        :host {\n          display: block;\n          color: var("--license-text-color");\n        }\n        :host([display-method="footnote"]) {\n          visibility: hidden;\n          opacity: 0;\n        }\n        :host([display-method="popup"]) {\n          display: block;\n        }\n        .license-link {\n          font-size: 16px;\n          line-height: 16px;\n          font-style: italic;\n        }\n        .citation-date {\n          font-size: 16px;\n          line-height: 16px;\n          font-style: italic;\n        }\n        .license-link img {\n          height: 16px;\n          min-width: 16px;\n          margin-right: 8px;\n        }\n      </style>\n      <meta\n        about\\$="[[relatedResource]]"\n        property="cc:attributionUrl"\n        content\\$="[[source]]"\n      />\n      <meta\n        about\\$="[[relatedResource]]"\n        property="cc:attributionName"\n        typeof="oer:Text"\n        content\\$="[[title]]"\n      />\n      <meta\n        rel="cc:license"\n        href\\$="[[licenseLink]]"\n        content\\$="License: [[licenseName]]"\n      />\n      <cite\n        ><a target="_blank" href="[[source]]">[[title]]</a> by [[creator]],\n        licensed under\n        <a class="license-link" target="_blank" href="[[licenseLink]]"\n          ><img\n            alt="[[licenseName]] graphic"\n            src="[[licenseImage]]"\n            hidden&="[[!licenseImage]]"\n          />[[licenseName]]</a\n        >. Accessed <span class="citation-date">[[date]]</span>.</cite\n      >\n    '])||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return h=function(){return n},n}var m=function(e){function m(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),u(this,a(m).apply(this,arguments))}var f,y,b;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(m,o.SchemaBehaviors(t.PolymerElement)),f=m,b=[{key:"template",get:function(){return t.html(h())}},{key:"tag",get:function(){return"citation-element"}},{key:"properties",get:function(){var e={title:{type:String},scope:{type:String,value:"sibling",observer:"_scopeChanged"},displayMethod:{type:String,reflectToAttribute:!0},creator:{type:String},source:{type:String},date:{type:String},licenseName:{type:String},licenseLink:{type:String},license:{type:String,observer:"_licenseUpdated"},_aboutLink:{type:Object,computed:"_generateAboutLink(relatedResource, licenseLink)"},_licenseLink:{type:Object,computed:"_generateLicenseLink(source)"}};return d(a(m),"properties",this)&&(e=Object.assign(e,d(a(m),"properties",this))),e}},{key:"haxProperties",get:function(){return{canScale:!1,canPosition:!1,canEditSource:!1,gizmo:{title:"Citation",description:"A basic citation element with 3 presentation modes",icon:"editor:title",color:"grey",groups:["Content","Text","Copyright"],handles:[{type:"citation",source:"source",title:"title",author:"creator",license:"license",accessDate:"date"}],meta:{author:"LRNWebComponents"}},settings:{quick:[{property:"title",title:"Title",description:"The title of the work being cited.",inputMethod:"textfield",icon:"editor:title"}],configure:[{property:"title",title:"Title",description:"The title of the work being cited.",inputMethod:"textfield",icon:"editor:title"},{property:"source",title:"Source link",description:"The source url for the element this is citing.",inputMethod:"textfield",icon:"link",validationType:"url"},{property:"date",title:"Date accessed",description:"The date this was accessed.",inputMethod:"textfield",icon:"link"},{property:"scope",title:"Scope",description:"Scope of what to cite.",inputMethod:"select",options:{sibling:"Sibling element",parent:"Parent element"},icon:"code"},{property:"license",title:"License",description:"The source url for the element this is citing.",inputMethod:"select",options:new s.licenseList("select"),icon:"link"},{property:"creator",title:"Creator",description:"Who made or owns this.",inputMethod:"textfield",icon:"link"}],advanced:[]}}}}],(y=[{key:"_generateLicenseLink",value:function(e){this._licenseLink&&document.head.removeChild(this._licenseLink);var t=document.createElement("link");return t.setAttribute("typeof","resource"),t.setAttribute("rel","license"),t.setAttribute("src",e),document.head.appendChild(t),t}},{key:"_generateAboutLink",value:function(e,t){this._aboutLink&&document.head.removeChild(this._aboutLink);var n=document.createElement("link");return n.setAttribute("about",e),n.setAttribute("property","cc:license"),n.setAttribute("content",t),document.head.appendChild(n),n}},{key:"_scopeChanged",value:function(e,t){if("sibling"===e&&null!==i.dom(this).previousElementSibling){if(i.dom(this).previousElementSibling.getAttribute("resource"))this.relatedResource=i.dom(this).previousElementSibling.getAttribute("resource");else{var n=this.generateResourceID();this.relatedResource=n,i.dom(this).previousElementSibling.setAttribute("resource",n)}i.dom(this).previousElementSibling.setAttribute("prefix",this.getAttribute("prefix"))}else if("parent"===e){if(i.dom(this).parentNode.getAttribute("resource"))this.relatedResource=i.dom(this).parentNode.getAttribute("resource");else{var r=this.generateResourceID();this.relatedResource=r,i.dom(this).parentNode.setAttribute("resource",r)}i.dom(this).parentNode.setAttribute("prefix",this.getAttribute("prefix"))}}},{key:"connectedCallback",value:function(){d(a(m.prototype),"connectedCallback",this).call(this),n.afterNextRender(this,function(){this.HAXWiring=new r.HAXWiring,this.HAXWiring.setup(m.haxProperties,m.tag,this)})}},{key:"_licenseUpdated",value:function(e,t){if("undefined"!==c(e)){var n=new s.licenseList;"undefined"!==c(n[e])&&(this.licenseName=n[e].name,this.licenseLink=n[e].link,this.licenseImage=n[e].image)}}}])&&l(f.prototype,y),b&&l(f,b),m}();window.customElements.define(m.tag,m),e.CitationElement=m,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=citation-element.umd.js.map
