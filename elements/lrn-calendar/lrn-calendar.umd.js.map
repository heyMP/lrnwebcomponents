{"version":3,"file":"lrn-calendar.umd.js","sources":["lrn-calendar.umd.js"],"sourcesContent":["import { html, PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { afterNextRender } from \"@polymer/polymer/lib/utils/render-status.js\";\nimport { dom } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\nimport { pathFromUrl } from \"@polymer/polymer/lib/utils/resolve-url.js\";\nimport { HAXWiring } from \"@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js\";\nimport \"@lrnwebcomponents/es-global-bridge/es-global-bridge.js\";\nimport \"@polymer/iron-ajax/iron-ajax.js\";\n/**\n * `lrn-calendar`\n * @demo demo/index.html\n */\nclass LrnCalendar extends PolymerElement {\n  static get template() {\n    return html`\n      <style>\n        :host {\n          display: block;\n        }\n        lrn-calendar-date {\n          display: inline-table;\n          top: 0px;\n        }\n        paper-card {\n          width: 14%;\n          height: 20px;\n          display: inline-table;\n          padding: 0;\n          margin: 0;\n        }\n        .calendar {\n          color: var(--my-toolbar-title-color);\n        }\n        .header {\n          padding-bottom: 15px;\n        }\n      </style>\n\n      <div class=\"calendar\">\n        <div class=\"header\">\n          <div style=\"float: left\">\n            <paper-button raised type=\"button\" on-click=\"monthView\"\n              >Month</paper-button\n            >\n            <paper-button raised type=\"button\" on-click=\"weekView\"\n              >Week</paper-button\n            >\n          </div>\n          <div style=\"float: right\">\n            <paper-button raised type=\"button\" on-click=\"showDate\"\n              >Today</paper-button\n            >\n            <paper-button on-click=\"showPrev\"\n              ><iron-icon icon=\"arrow-back\"></iron-icon\n            ></paper-button>\n            <paper-button on-click=\"showNext\"\n              ><iron-icon icon=\"arrow-forward\"></iron-icon\n            ></paper-button>\n          </div>\n          <div style=\"margin: 0 auto; width: 200px; text-align: center\">\n            <h2>[[getDisplayDate(date)]]</h2>\n          </div>\n        </div>\n\n        <div class=\"calendarView\" id=\"calView\"></div>\n      </div>\n    `;\n  }\n\n  static get tag() {\n    return \"lrn-calendar\";\n  }\n\n  static get properties() {\n    return {\n      /**\n       * An array of events for display\n       */\n      listOfEvents: {\n        type: Array,\n        value: []\n      },\n      /**\n       * Date to start from\n       */\n      dateString: {\n        type: String,\n        observer: \"_dateStringChanged\"\n      },\n      /**\n       * Date to start from\n       */\n      date: {\n        type: Date,\n        value: new Date(),\n        observer: \"_dateChanged\"\n      },\n      /**\n       * Type of display, possible values, month, day, week\n       */\n      view: {\n        type: String,\n        value: \"month\",\n        observer: \"_viewTypeChanged\"\n      },\n      /**\n       * ical file to reference to pull in dates.\n       */\n      file: {\n        type: String,\n        reflectToAttribute: true,\n        observer: \"_fileChanged\"\n      }\n    };\n  }\n\n  /**\n   * Notice the file has changed and attempt to rebind.\n   */\n  _fileChanged(newValue, oldValue) {\n    if (typeof newValue !== typeof undefined && this.__icalLoaded) {\n      this.loadFile();\n      this.getDateInfo();\n      this.createCalendar();\n    }\n  }\n\n  /**\n   * Notice the file has changed and attempt to rebind.\n   */\n  _viewTypeChanged(newValue, oldValue) {\n    if (\n      typeof newValue !== typeof undefined &&\n      typeof this.file !== typeof undefined &&\n      this.__icalLoaded\n    ) {\n      this.getDateInfo();\n      this.createCalendar();\n    }\n  }\n\n  /**\n   * Notice the file has changed and attempt to rebind.\n   */\n  _dateChanged(newValue, oldValue) {\n    if (\n      typeof newValue !== typeof undefined &&\n      typeof this.file !== typeof undefined &&\n      this.__icalLoaded\n    ) {\n      this.getDateInfo();\n      this.createCalendar();\n    }\n  }\n\n  /**\n   * Notice the String of the date has changed and reset the actual date to it\n   */\n  _dateStringChanged(newValue, oldValue) {\n    if (\n      typeof newValue !== typeof undefined &&\n      newValue != \"\" &&\n      this.__icalLoaded\n    ) {\n      this.date = new Date(newValue);\n    }\n  }\n  /**\n   * created life cycle\n   */\n  constructor() {\n    super();\n    import(\"@polymer/paper-button/paper-button.js\");\n    import(\"@polymer/iron-icons/iron-icons.js\");\n    import(\"@polymer/iron-icon/iron-icon.js\");\n    import(\"@polymer/paper-card/paper-card.js\");\n    import(\"@polymer/paper-menu-button/paper-menu-button.js\");\n    import(\"@polymer/paper-dropdown-menu/paper-dropdown-menu.js\");\n    import(\"@lrnwebcomponents/lrnsys-layout/lrnsys-layout.js\");\n    import(\"@lrnwebcomponents/lrnsys-layout/lib/lrnsys-drawer.js\");\n    import(\"@lrnwebcomponents/lrnsys-layout/lib/lrnsys-dialog.js\");\n    import(\"@lrnwebcomponents/lrnsys-layout/lib/lrnsys-collapselist.js\");\n    import(\"@lrnwebcomponents/lrnsys-layout/lib/lrnsys-collapselist-item.js\");\n    import(\"@lrnwebcomponents/lrn-calendar/lib/lrn-calendar-date.js\");\n    afterNextRender(this, function() {\n      this.HAXWiring = new HAXWiring();\n      this.HAXWiring.setup(LrnCalendar.haxProperties, LrnCalendar.tag, this);\n    });\n    const basePath = pathFromUrl(decodeURIComponent(import.meta.url));\n    const location = `${basePath}lib/ical.js/build/ical.js`;\n    window.addEventListener(\n      \"es-bridge-ical-loaded\",\n      this._icalLoaded.bind(this)\n    );\n    window.ESGlobalBridge.requestAvailability();\n    window.ESGlobalBridge.instance.load(\"ical\", location);\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    window.removeEventListener(\n      \"es-bridge-ical-loaded\",\n      this._icalLoaded.bind(this)\n    );\n  }\n  /**\n   * ical loaded\n   */\n  _icalLoaded() {\n    this.__icalLoaded = true;\n    if (typeof this.file !== typeof undefined) {\n      this.loadFile();\n    }\n  }\n  /**\n   * Attached lifecycle.\n   */\n  static get haxProperties() {\n    return {\n      canScale: false,\n      canPosition: false,\n      canEditSource: false,\n      gizmo: {\n        title: \"Calendar\",\n        description: \"Present dates.\",\n        icon: \"icons:today\",\n        color: \"grey\",\n        groups: [\"Date\"],\n        handles: [\n          {\n            type: \"ical\",\n            source: \"file\",\n            date: \"date\"\n          }\n        ],\n        meta: {\n          author: \"LRNWebComponents\"\n        }\n      },\n      settings: {\n        quick: [\n          {\n            property: \"file\",\n            title: \"iCal feed\",\n            description: \"Calendar feed to display\",\n            inputMethod: \"textfield\",\n            icon: \"link\",\n            required: true\n          }\n        ],\n        configure: [\n          {\n            property: \"file\",\n            title: \"iCal feed\",\n            description: \"Calendar feed to display\",\n            inputMethod: \"textfield\",\n            icon: \"link\",\n            required: true,\n            validationType: \"url\"\n          },\n          {\n            property: \"view\",\n            title: \"View calendar in week or month format\",\n            description: \"week or month view\",\n            inputMethod: \"select\",\n            options: {\n              week: \"Week\",\n              month: \"Month\"\n            }\n          },\n          {\n            property: \"dateString\",\n            title: \"Date: yyyy/mm/dd\",\n            description: \"Date to display calendar\",\n            inputMethod: \"datepicker\"\n          }\n        ],\n        advanced: []\n      }\n    };\n  }\n  /**\n   * Load the ical file.\n   */\n  loadFile() {\n    this.startIndex = 0;\n    this.calendarText = this.readTextFile(this.file);\n    this.listOfEvents = this.getEvents(this.date, this.calendarText);\n    this.listOfEvents = this.sortByTime(this.listOfEvents);\n  }\n\n  /*\n   * Is called to show the previous month/week depending on option selected\n   */\n  showPrev() {\n    var current;\n    this.startIndex = 0;\n    if (this.view == \"month\") {\n      if (this.date.getMonth() == 2) {\n        if (this.date.getDate() > 28) {\n          current = new Date(\n            this.date.getFullYear(),\n            this.date.getMonth() - 1,\n            28\n          );\n        } else {\n          current = new Date(\n            this.date.getFullYear(),\n            this.date.getMonth() - 1,\n            this.date.getDate()\n          );\n        }\n      } else {\n        current = new Date(\n          this.date.getFullYear(),\n          this.date.getMonth() - 1,\n          this.date.getDate()\n        );\n      }\n      this.date = current;\n    } else {\n      var current = new Date(\n        this.date.getFullYear(),\n        this.date.getMonth(),\n        this.date.getDate() - 7\n      );\n      this.date = current;\n    }\n\n    this.startMonth = this.date.getMonth() + 1;\n\n    this.getDateInfo();\n    this.createCalendar();\n  }\n\n  /*\n   * Is called to show the next month/week\n   */\n  showNext() {\n    var current;\n    if (this.view == \"month\") {\n      if (this.date.getMonth() == 11) {\n        current = new Date(this.date.getFullYear() + 1, 0, this.date.getDate());\n      } else if (this.date.getMonth() == 0) {\n        if (this.date.getDate() > 28) {\n          current = new Date(\n            this.date.getFullYear(),\n            this.date.getMonth() + 1,\n            28\n          );\n        } else {\n          current = new Date(\n            this.date.getFullYear(),\n            this.date.getMonth() + 1,\n            this.date.getDate()\n          );\n        }\n      } else {\n        current = new Date(\n          this.date.getFullYear(),\n          this.date.getMonth() + 1,\n          this.date.getDate()\n        );\n      }\n      this.date = current;\n    } else {\n      var current = new Date(\n        this.date.getFullYear(),\n        this.date.getMonth(),\n        this.date.getDate() + 7\n      );\n      this.date = current;\n    }\n\n    this.getDateInfo();\n    this.createCalendar();\n  }\n\n  /**\n   * Is called to show the next month/week\n   */\n  showDate() {\n    this.startIndex = 0;\n    this.date = new Date();\n    this.getDateInfo();\n    this.createCalendar();\n  }\n\n  //Set the view to month\n  monthView() {\n    this.view = \"month\";\n    this.startIndex = 0;\n    this.createCalendar();\n  }\n\n  //Set the view to weekly\n  weekView() {\n    this.view = \"week\";\n    this.startIndex = 0;\n    this.createCalendar();\n  }\n\n  readTextFile(file) {\n    this.fileNotFound = false;\n    var rawFile = new XMLHttpRequest();\n    var allText = \"\";\n    rawFile.open(\"GET\", file, false);\n    rawFile.onreadystatechange = function() {\n      if (rawFile.readyState === 4) {\n        if (rawFile.status === 200 || rawFile.status == 0) {\n          allText = rawFile.responseText;\n        } else {\n          allText = \"Not Found\";\n        }\n      }\n    };\n\n    rawFile.send(null);\n    this.calendarText = allText;\n    return allText;\n  }\n\n  /*\n   * Determines the view and then calls lrn-calendar-date to\n   * create the individual date blocks\n   * Does the math required to get all the days correct. Ex: Oct 31 -> Nov 1\n   */\n  createCalendar() {\n    if (this.view != \"month\") {\n      if (this.view != \"week\") {\n        this.view = \"month\";\n      }\n    }\n    if (!this.date.getFullYear()) {\n      this.date = new Date();\n    }\n\n    this.getDateInfo();\n\n    this.totalDays = this.numweeks * 7;\n    this.calendarText = this.readTextFile(this.file);\n    this.calendarView = this.shadowRoot.querySelector(\"#calView\");\n\n    var days = 1;\n    var pastDate = 0;\n\n    //Remove past calendar blocks ************************************\n    var elem = dom(this.shadowRoot.querySelector(\"#calView\")).node;\n    var elemChildren = elem.childNodes;\n\n    while (elemChildren[1]) {\n      elem.removeChild(elem.childNodes[1]);\n    }\n    //*******************************************************************\n\n    //Setup for calendar*******************************************************************\n\n    var initialDayofWeek = this.currentDayofWeek;\n\n    //Determine how many days until the end of the week\n    if (this.view == \"week\") {\n      var dayCount = 0;\n      while (this.currentDayofWeek + dayCount < 6) {\n        dayCount = dayCount + 1;\n      }\n      this.totalDays = dayCount;\n    }\n    //Month view Setup\n    if (this.view == \"month\") {\n      if (\n        this.currentMonth == 1 ||\n        this.currentMonth == 3 ||\n        this.currentMonth == 5 ||\n        this.currentMonth == 7 ||\n        this.currentMonth == 8 ||\n        this.currentMonth == 10 ||\n        this.currentMonth == 12\n      ) {\n        this.totalDays = 31;\n        this.totalDays = this.totalDays - this.startDay + 1;\n      } else if (\n        this.currentMonth == 4 ||\n        this.currentMonth == 6 ||\n        this.currentMonth == 9 ||\n        this.currentMonth == 11\n      ) {\n        this.totalDays = 30;\n        this.totalDays = this.totalDays - this.startDay + 1;\n      } else {\n        this.totalDays = 29;\n        this.totalDays = this.totalDays - this.startDay;\n      }\n    }\n    //Sets up days before the actual day to display on calendar\n    this.newDate = new Date(\n      this.currentYear + \"/\" + this.currentMonth + \"/\" + this.currentDate\n    );\n    if (this.view == \"month\") {\n      while (this.currentDate != 1) {\n        days = days - 1;\n\n        if (this.currentMonth == 1 && this.currentDate == 1) {\n          this.currentYear = this.currentYear - 1;\n          this.currentMonth = 12;\n          this.currentDate = 31;\n          this.newDate = new Date(\n            this.currentYear + \"/\" + this.currentMonth + \"/\" + this.currentDate\n          );\n        } else {\n          this.currentDate = this.currentDate - 1;\n\n          this.newDate = new Date(\n            this.currentYear + \"/\" + this.currentMonth + \"/\" + this.currentDate\n          );\n\n          if (this.newDate.getDate() != this.currentDate) {\n            //31 day months\n            if (\n              this.currentDate == 0 &&\n              (this.currentMonth == 2 ||\n                this.currentMonth == 4 ||\n                this.currentMonth == 6 ||\n                this.currentMonth == 8 ||\n                this.currentMonth == 9 ||\n                this.currentMonth == 11 ||\n                this.currentMonth == 1)\n            ) {\n              this.newDate = new Date(\n                this.currentYear + \"/\" + (this.currentMonth - 1) + \"/\" + 31\n              );\n              this.currentDate = 31;\n            }\n            //30 day months\n            if (\n              this.currentDate == 0 &&\n              (this.currentMonth == 5 ||\n                this.currentMonth == 7 ||\n                this.currentMonth == 10 ||\n                this.currentMonth == 12)\n            ) {\n              this.newDate = new Date(\n                this.currentYear + \"/\" + (this.currentMonth - 1) + \"/\" + 30\n              );\n              this.currentDate = 30;\n            }\n            //February\n            if (this.currentDate == 0 && this.currentMonth == 3) {\n              this.newDate = new Date(this.currentYear + \"/\" + 2 + \"/\" + 29);\n              this.currentDate = 29;\n\n              if (this.newDate.getMonth() == 2) {\n                this.newDate = new Date(this.currentYear + \"/\" + 2 + \"/\" + 28);\n                this.currentDate = 28;\n              }\n            }\n            this.currentMonth = this.currentMonth - 1;\n          }\n        }\n        if (this.currentDayofWeek == 0 || initialDayofWeek == 0) {\n          this.currentDayofWeek = 7;\n          initialDayofWeek = -1;\n        }\n        this.currentDayofWeek = this.currentDayofWeek - 1;\n      }\n      if (this.currentDayofWeek == 7) {\n        this.currentDayofWeek = 0;\n      }\n    }\n\n    while (this.currentDayofWeek != 0) {\n      days = days - 1;\n\n      if (this.currentMonth == 1 && this.currentDate == 1) {\n        this.currentYear = this.currentYear - 1;\n        this.currentMonth = 12;\n        this.currentDate = 31;\n        this.newDate = new Date(\n          this.currentYear + \"/\" + this.currentMonth + \"/\" + this.currentDate\n        );\n      } else {\n        this.currentDate = this.currentDate - 1;\n        this.newDate = new Date(\n          this.currentYear + \"/\" + this.currentMonth + \"/\" + this.currentDate\n        );\n\n        if (this.newDate.getDate() != this.currentDate) {\n          //31 day months\n          if (\n            this.currentDate == 0 &&\n            (this.currentMonth == 2 ||\n              this.currentMonth == 4 ||\n              this.currentMonth == 6 ||\n              this.currentMonth == 8 ||\n              this.currentMonth == 9 ||\n              this.currentMonth == 11 ||\n              this.currentMonth == 1)\n          ) {\n            this.newDate = new Date(\n              this.currentYear + \"/\" + (this.currentMonth - 1) + \"/\" + 31\n            );\n            this.currentDate = 31;\n          }\n          //30 day months\n          if (\n            this.currentDate == 0 &&\n            (this.currentMonth == 5 ||\n              this.currentMonth == 7 ||\n              this.currentMonth == 10 ||\n              this.currentMonth == 12)\n          ) {\n            this.newDate = new Date(\n              this.currentYear + \"/\" + (this.currentMonth - 1) + \"/\" + 30\n            );\n            this.currentDate = 30;\n          }\n          //February\n          if (this.currentDate == 0 && this.currentMonth == 3) {\n            this.newDate = new Date(this.currentYear + \"/\" + 2 + \"/\" + 29);\n            this.currentDate = 29;\n            if (this.newDate.getMonth() == 2) {\n              this.newDate = new Date(this.currentYear + \"/\" + 2 + \"/\" + 28);\n              this.currentDate = 28;\n            }\n          }\n          this.currentMonth = this.currentMonth - 1;\n        }\n      }\n\n      this.currentDayofWeek = this.currentDayofWeek - 1;\n    }\n\n    // Creates first date element\n    var dynamicEl = document.createElement(\"lrn-calendar-date\");\n    dynamicEl.date = this.newDate;\n    dynamicEl.firstWeek = true;\n    dynamicEl.style.width = \"14.25%\";\n    dynamicEl.style.display = \"inline-block\";\n    dynamicEl.setAttribute(\"id\", \"date\");\n    dynamicEl.view = this.view;\n    if (\n      this.date.getFullYear() === this.newDate.getFullYear() &&\n      this.date.getMonth() === this.newDate.getMonth() &&\n      this.date.getDate() === this.newDate.getDate()\n    ) {\n      dynamicEl.loadeddate = true;\n    }\n\n    //var eventList = this.getEvents(this.newDate, this.calendarText);\n\n    var eventsOnDay = this.eventCheck(this.listOfEvents, this.newDate);\n    var sendEvent = this.createReturn(eventsOnDay);\n    dynamicEl.events = sendEvent;\n\n    dynamicEl.valid = true;\n    dom(this.calendarView).appendChild(dynamicEl);\n\n    var firstWeekCount = 1;\n    while (days < this.totalDays) {\n      //If 12/31\n      if (this.currentMonth == 12 && this.currentDate == 31) {\n        this.currentYear = this.currentYear + 1;\n        this.currentMonth = 1;\n        this.currentDate = 1;\n        this.newDay = new Date(\n          this.currentYear + \"/\" + this.currentMonth + \"/\" + this.currentDate\n        );\n      } else {\n        this.currentDate = this.currentDate + 1;\n        this.newDay = new Date(\n          this.currentYear + \"/\" + this.currentMonth + \"/\" + this.currentDate\n        );\n\n        if (this.newDay.getDate() != this.currentDate) {\n          if (\n            this.currentMonth == 1 ||\n            this.currentMonth == 3 ||\n            this.currentMonth == 5 ||\n            this.currentMonth == 7 ||\n            this.currentMonth == 8 ||\n            this.currentMonth == 10 ||\n            this.currentMonth == 12\n          ) {\n            this.newDay = new Date(\n              this.currentYear + \"/\" + (this.currentMonth + 1) + \"/\" + 1\n            );\n          }\n          this.currentDate = 1;\n          this.currentMonth = this.currentMonth + 1;\n        }\n      }\n      var dynamicEl = document.createElement(\"lrn-calendar-date\");\n      dynamicEl.valid = true;\n      dynamicEl.setAttribute(\"id\", \"date\");\n      dynamicEl.date = this.newDay;\n      dynamicEl.style.width = \"14.25%\";\n      dynamicEl.style.display = \"inline-block\";\n      dynamicEl.view = this.view;\n\n      if (\n        this.date.getFullYear() === this.newDay.getFullYear() &&\n        this.date.getMonth() === this.newDay.getMonth() &&\n        this.date.getDate() === this.newDay.getDate()\n      ) {\n        dynamicEl.loadeddate = true;\n      }\n      var eventsOnDayMain = this.eventCheck(this.listOfEvents, this.newDay);\n      var sendEventMain = this.createReturn(eventsOnDayMain);\n      dynamicEl.events = sendEventMain;\n\n      if (firstWeekCount < 7) {\n        dynamicEl.firstWeek = true;\n      }\n      firstWeekCount = firstWeekCount + 1;\n      dynamicEl.valid = true;\n\n      dom(this.calendarView).appendChild(dynamicEl);\n\n      days = days + 1;\n      if (days == this.totalDays && this.newDay.getDay() != 6) {\n        days = days - 1;\n        pastDate = 1;\n      }\n    }\n  }\n\n  /*\n   * Get events gets the events that are within the calendar corresponding to the specific event\n   *\n   */\n  getEvents(date, text) {\n    if (text == \"Not Found\") {\n      return \"\";\n    }\n    var iCalendarData = text;\n    var jcalData = ICAL.parse(iCalendarData);\n    var vcalendar = new ICAL.Component(jcalData);\n    var vevent = vcalendar.getFirstSubcomponent(\"vevent\");\n    var vevents = vcalendar.getAllSubcomponents(\"vevent\");\n\n    var displayEvents = vevents.map(vevent => {\n      event = new ICAL.Event(vevent);\n      return event;\n    });\n    this.eventArray = [];\n    for (var i = 0; i < displayEvents.length; i++) {\n      var startDay = this.createDate(displayEvents[i]);\n      if (displayEvents[i].isRecurring()) {\n        this.createRecurrence(displayEvents[i]);\n      }\n      this.eventArray.push(displayEvents[i]);\n    }\n\n    return this.eventArray;\n  }\n\n  /*\n   * Determines what type of recurrence is occuring and calls createRepeatedEvent\n   * The int in the function call is the max number of recurrences\n   */\n  createRecurrence(events) {\n    if (events.getRecurrenceTypes().WEEKLY) {\n      this.createRepeatedEvent(events, 156);\n    } else if (events.getRecurrenceTypes().DAILY) {\n      this.createRepeatedEvent(events, 720);\n    } else if (events.getRecurrenceTypes().MONTHLY) {\n      this.createRepeatedEvent(events, 36);\n    } else if (events.getRecurrenceTypes().YEARLY) {\n      this.createRepeatedEvent(events, 10);\n    }\n  }\n\n  /*\n   * Iterates through the recurring event.  Each time it creates a new event.\n   * Currently it sets the summary and description the same since that will not change\n   * That will need to be adjusted, only info in new Event is start time, end time, summary, and description\n   * The new event is loaded into the array of all the events\n   */\n  createRepeatedEvent(events, maxRepeat) {\n    var iter = events.iterator(events.startDate);\n\n    let next;\n    let num = 0;\n    while ((next = iter.next()) && num++ < maxRepeat) {\n      var newTest = new ICAL.Event();\n\n      newTest.summary = events.summary;\n      newTest.description = events.description;\n      newTest.startDate = events.getOccurrenceDetails(next).startDate;\n      newTest.endDate = events.getOccurrenceDetails(next).endDate;\n      var locationString = String(events.location);\n      newTest.location = locationString;\n      if (\n        newTest.startDate._time.day != events.startDate._time.day ||\n        newTest.startDate._time.month != events.startDate._time.month ||\n        newTest.startDate._time.year != events.startDate._time.year\n      ) {\n        this.eventArray.push(newTest);\n      }\n    }\n    return;\n  }\n\n  /*\n   * Called from eventCheck, gets the start time of an event and returns it\n   */\n  createDate(event) {\n    var year = event.startDate._time.year;\n    var month = event.startDate._time.month;\n    var day = event.startDate._time.day;\n    var eventDate = new Date(year + \"/\" + month + \"/\" + day);\n    return eventDate;\n  }\n\n  /*\n   * Check if the event occurs on this date and then includes it in the event array that is returned\n   * this.startIndex determines the index of the event array that it should start looking for the events that occur\n   * on that day.  This is to increase efficiency to not keep scrolling through the list\n   * Once an event is found after the date, it exits the for loop\n   * This is all because the event array is sorted by date\n   */\n  eventCheck(events, date) {\n    var eventsOnDay = [];\n    var end = events.length;\n    for (var i = this.startIndex; i < end; i++) {\n      var startDay = this.createDate(events[i]);\n      if (startDay.getTime() > date.getTime()) {\n        end = i;\n        if (i != 0) {\n          this.startIndex = i - 1;\n        }\n      }\n      if (startDay.getTime() == date.getTime()) {\n        eventsOnDay.push(events[i]);\n      }\n    }\n    return eventsOnDay;\n  }\n\n  /*\n   * Organizes the events on a certain day in order based on start time\n   */\n  sortByTime(eventList) {\n    var swapped;\n    do {\n      swapped = false;\n      for (var i = 0; i < eventList.length - 1; i++) {\n        if (eventList[i].startDate > eventList[i + 1].startDate) {\n          var temp = eventList[i];\n          eventList[i] = eventList[i + 1];\n          eventList[i + 1] = temp;\n          swapped = true;\n        }\n      }\n    } while (swapped);\n    return eventList;\n  }\n\n  getDateInfo() {\n    this.startMonth = this.date.getMonth() + 1;\n    this.startYear = this.date.getFullYear();\n    this.startDay = this.date.getDate();\n    this.startDayOfWeek = this.date.getDay();\n    this.currentDate = this.startDay;\n    this.currentMonth = this.startMonth;\n    this.currentYear = this.startYear;\n    this.currentDayofWeek = this.startDayOfWeek;\n    return;\n  }\n\n  /*\n   * Creates an event array that gets all of the events for that certain day\n   */\n  createReturn(event) {\n    var EventArray = [];\n\n    for (var i = 0; i < event.length; i++) {\n      EventArray.push({ event: event[i] });\n    }\n    return EventArray;\n  }\n\n  /*\n   * Gets the date to display on the header, currently the month and year. Returns it as a String\n   */\n  getDisplayDate(date) {\n    if (typeof date.getMonth === \"function\") {\n      var monthInt = date.getMonth();\n      var day = date.getDate();\n      var monthsArray = [\n        \"January\",\n        \"February\",\n        \"March\",\n        \"April\",\n        \"May\",\n        \"June\",\n        \"July\",\n        \"August\",\n        \"September\",\n        \"October\",\n        \"November\",\n        \"December\"\n      ];\n      return monthsArray[monthInt] + \" \" + date.getFullYear();\n    }\n    return \"\";\n  }\n}\nwindow.customElements.define(LrnCalendar.tag, LrnCalendar);\nexport { LrnCalendar };\n"],"names":["LrnCalendar","afterNextRender","HAXWiring","setup","haxProperties","tag","this","basePath","pathFromUrl","decodeURIComponent","location","window","addEventListener","_this","_icalLoaded","bind","ESGlobalBridge","requestAvailability","instance","load","PolymerElement","newValue","oldValue","_typeof","__icalLoaded","loadFile","getDateInfo","createCalendar","file","date","Date","html","listOfEvents","type","Array","value","dateString","String","observer","view","reflectToAttribute","removeEventListener","startIndex","calendarText","readTextFile","getEvents","sortByTime","current","getMonth","getDate","getFullYear","startMonth","fileNotFound","rawFile","XMLHttpRequest","allText","open","onreadystatechange","readyState","status","responseText","send","totalDays","numweeks","calendarView","shadowRoot","querySelector","days","elem","dom","node","elemChildren","childNodes","removeChild","initialDayofWeek","currentDayofWeek","dayCount","currentMonth","startDay","newDate","currentYear","currentDate","dynamicEl","document","createElement","firstWeek","style","width","display","setAttribute","loadeddate","eventsOnDay","eventCheck","sendEvent","createReturn","events","valid","appendChild","firstWeekCount","newDay","eventsOnDayMain","sendEventMain","getDay","text","iCalendarData","jcalData","ICAL","parse","vcalendar","Component","displayEvents","getFirstSubcomponent","getAllSubcomponents","map","vevent","event","Event","eventArray","i","length","createDate","isRecurring","createRecurrence","push","getRecurrenceTypes","WEEKLY","createRepeatedEvent","DAILY","MONTHLY","YEARLY","maxRepeat","next","iter","iterator","startDate","num","newTest","summary","description","getOccurrenceDetails","endDate","locationString","_time","day","month","year","end","getTime","eventList","swapped","temp","startYear","startDayOfWeek","EventArray","monthInt","canScale","canPosition","canEditSource","gizmo","title","icon","color","groups","handles","source","meta","author","settings","quick","property","inputMethod","required","configure","validationType","options","week","advanced","customElements","define"],"mappings":"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"}