!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@polymer/polymer/polymer-element.js"),require("@polymer/polymer/lib/utils/render-status.js"),require("@polymer/polymer/lib/elements/dom-repeat.js"),require("@polymer/polymer/lib/elements/dom-if.js"),require("@lrnwebcomponents/schema-behaviors/schema-behaviors.js"),require("@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js"),require("@polymer/paper-toast/paper-toast.js"),require("@lrnwebcomponents/simple-colors/simple-colors.js")):"function"==typeof define&&define.amd?define(["exports","@polymer/polymer/polymer-element.js","@polymer/polymer/lib/utils/render-status.js","@polymer/polymer/lib/elements/dom-repeat.js","@polymer/polymer/lib/elements/dom-if.js","@lrnwebcomponents/schema-behaviors/schema-behaviors.js","@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js","@polymer/paper-toast/paper-toast.js","@lrnwebcomponents/simple-colors/simple-colors.js"],t):t((e=e||self).MultipleChoice={},e.polymerElement_js,e.renderStatus_js,null,null,e.schemaBehaviors_js,e.HAXWiring_js)}(this,function(e,t,n,r,o,i,s){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function m(){var e,t,n=(e=['\n      <style>\n        :host {\n          display: block;\n          padding: 16px 16px 54px 16px;\n        }\n        .red {\n          background-color: var(--simple-colors-default-theme-red-8);\n        }\n        .green {\n          background-color: var(--simple-colors-default-theme-green-8);\n        }\n        h3 {\n          margin: 8px;\n        }\n        ul {\n          list-style: none;\n          padding: 0;\n          margin: 0;\n        }\n        ul li {\n          padding: 8px;\n        }\n        paper-radio-button {\n          padding: 8px;\n          display: block;\n        }\n        paper-checkbox {\n          padding: 8px;\n        }\n        iron-icon {\n          display: inline-flex;\n        }\n      </style>\n      <meta property="oer:assessing" content$="[[relatedResource]]" />\n      <h3 hidden$="[[hideTitle]]">\n        <span property="oer:name">[[title]]</span>\n      </h3>\n      <div>[[question]]</div>\n      <template is="dom-if" if="[[singleOption]]" restamp>\n        <paper-radio-group>\n          <template\n            is="dom-repeat"\n            items="[[displayedAnswers]]"\n            as="answer"\n            mutable-data\n          >\n            <paper-radio-button\n              disabled$="[[disabled]]"\n              property="oer:answer"\n              name$="[[index]]"\n              checked="{{answer.userGuess}}"\n              >[[answer.label]]</paper-radio-button\n            >\n          </template>\n        </paper-radio-group>\n      </template>\n      <template is="dom-if" if="[[!singleOption]]" restamp>\n        <ul>\n          <template\n            is="dom-repeat"\n            items="[[displayedAnswers]]"\n            as="answer"\n            mutable-data\n          >\n            <li>\n              <paper-checkbox\n                disabled$="[[disabled]]"\n                property="oer:answer"\n                checked="{{answer.userGuess}}"\n                >[[answer.label]]</paper-checkbox\n              >\n            </li>\n          </template>\n        </ul>\n      </template>\n      <div hidden$="[[hideButtons]]">\n        <paper-button\n          disabled$="[[disabled]]"\n          raised=""\n          on-click="_verifyAnswers"\n          >[[checkLabel]]</paper-button\n        >\n        <paper-button\n          disabled$="[[disabled]]"\n          raised=""\n          on-click="resetAnswers"\n          >[[resetLabel]]</paper-button\n        >\n      </div>\n      <paper-toast\n        id="toast"\n        duration="6000"\n        class$="fit-bottom [[__toastColor]]"\n      >\n        [[__toastText]]\n        <iron-icon icon="[[__toastIcon]]" style="margin-left:16px;"></iron-icon>\n      </paper-toast>\n    '],(t=['\n      <style>\n        :host {\n          display: block;\n          padding: 16px 16px 54px 16px;\n        }\n        .red {\n          background-color: var(--simple-colors-default-theme-red-8);\n        }\n        .green {\n          background-color: var(--simple-colors-default-theme-green-8);\n        }\n        h3 {\n          margin: 8px;\n        }\n        ul {\n          list-style: none;\n          padding: 0;\n          margin: 0;\n        }\n        ul li {\n          padding: 8px;\n        }\n        paper-radio-button {\n          padding: 8px;\n          display: block;\n        }\n        paper-checkbox {\n          padding: 8px;\n        }\n        iron-icon {\n          display: inline-flex;\n        }\n      </style>\n      <meta property="oer:assessing" content\\$="[[relatedResource]]" />\n      <h3 hidden\\$="[[hideTitle]]">\n        <span property="oer:name">[[title]]</span>\n      </h3>\n      <div>[[question]]</div>\n      <template is="dom-if" if="[[singleOption]]" restamp>\n        <paper-radio-group>\n          <template\n            is="dom-repeat"\n            items="[[displayedAnswers]]"\n            as="answer"\n            mutable-data\n          >\n            <paper-radio-button\n              disabled\\$="[[disabled]]"\n              property="oer:answer"\n              name$="[[index]]"\n              checked="{{answer.userGuess}}"\n              >[[answer.label]]</paper-radio-button\n            >\n          </template>\n        </paper-radio-group>\n      </template>\n      <template is="dom-if" if="[[!singleOption]]" restamp>\n        <ul>\n          <template\n            is="dom-repeat"\n            items="[[displayedAnswers]]"\n            as="answer"\n            mutable-data\n          >\n            <li>\n              <paper-checkbox\n                disabled\\$="[[disabled]]"\n                property="oer:answer"\n                checked="{{answer.userGuess}}"\n                >[[answer.label]]</paper-checkbox\n              >\n            </li>\n          </template>\n        </ul>\n      </template>\n      <div hidden\\$="[[hideButtons]]">\n        <paper-button\n          disabled\\$="[[disabled]]"\n          raised=""\n          on-click="_verifyAnswers"\n          >[[checkLabel]]</paper-button\n        >\n        <paper-button\n          disabled\\$="[[disabled]]"\n          raised=""\n          on-click="resetAnswers"\n          >[[resetLabel]]</paper-button\n        >\n      </div>\n      <paper-toast\n        id="toast"\n        duration="6000"\n        class\\$="fit-bottom [[__toastColor]]"\n      >\n        [[__toastText]]\n        <iron-icon icon="[[__toastIcon]]" style="margin-left:16px;"></iron-icon>\n      </paper-toast>\n    '])||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return m=function(){return n},n}var y=function(e){function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),e=u(this,d(r).call(this)),import("@polymer/iron-icons/iron-icons.js"),import("@polymer/iron-icon/iron-icon.js"),import("@polymer/paper-button/paper-button.js"),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(r,i.SchemaBehaviors(t.PolymerElement)),l(r,null,[{key:"tag",get:function(){return"multiple-choice"}}]),l(r,[{key:"_valueChanged",value:function(e){for(var t in e)for(var n in e[t])this.notifyPath("displayedAnswers."+t+"."+n)}},{key:"resetAnswers",value:function(e){var t=this;for(var n in this.$.toast.hide(),this.displayedAnswers)this.displayedAnswers[n].userGuess&&(this.displayedAnswers[n].userGuess=!1);setTimeout(function(){var e=t.answers;t.set("answers",[]),t.set("answers",e)},100)}},{key:"checkAnswers",value:function(){var e=!0;for(var t in this.displayedAnswers)0!=e&&this.displayedAnswers[t].correct&&this.displayedAnswers[t].userGuess?e=!0:this.displayedAnswers[t].correct&&!this.displayedAnswers[t].userGuess?e=!1:!this.displayedAnswers[t].correct&&this.displayedAnswers[t].userGuess&&(e=!1);return e}},{key:"_verifyAnswers",value:function(e){var t=this.checkAnswers();t?(this.$.toast.hide(),this.__toastColor="green",this.__toastIcon="thumb-up",this.__toastText=this.correctText,this.$.toast.show()):(this.$.toast.hide(),this.__toastColor="red",this.__toastIcon="thumb-down",this.__toastText=this.incorrectText,this.$.toast.show()),this.dispatchEvent(new CustomEvent("user-engagement",{bubbles:!0,composed:!0,cancelable:!1,detail:{passed:t}}))}},{key:"_computeDisplayedAnswers",value:function(e,t){if("undefined"!==a(e)&&null!=e&&e.length>0&&t){for(var n,r,o=e,i=o.length;0!==i;)r=Math.floor(Math.random()*i),n=o[i-=1],o[i]=o[r],o[r]=n;return o}return e}},{key:"connectedCallback",value:function(){h(d(r.prototype),"connectedCallback",this).call(this),this.singleOption?(import("@polymer/paper-radio-group/paper-radio-group.js"),import("@polymer/paper-radio-button/paper-radio-button.js")):import("@polymer/paper-checkbox/paper-checkbox.js"),this.setAttribute("typeof","oer:Assessment"),n.afterNextRender(this,function(){this.$.toast.fitInto=this,this.HAXWiring=new s.HAXWiring,this.HAXWiring.setup(r.haxProperties,r.tag,this)})}}],[{key:"template",get:function(){return t.html(m())}},{key:"properties",get:function(){return Object.assign({title:{type:String,value:""},disabled:{type:Boolean,value:!1},singleOption:{type:Boolean,value:!1},checkLabel:{type:String,value:"Check answer"},resetLabel:{type:String,value:"Reset"},relatedResource:{type:String},hideTitle:{type:Boolean,value:!1},question:{type:String,value:""},answers:{type:Array,value:[],notify:!0},displayedAnswers:{type:Array,computed:"_computeDisplayedAnswers(answers, randomize)",observer:"_valueChanged",notify:!0},correctText:{type:String,value:"Great job!"},incorrectText:{type:String,value:"Better luck next time!"},randomize:{type:Boolean,value:!1,reflectToAttribute:!0},hideButtons:{type:Boolean,value:!1}},h(d(r),"properties",this))}},{key:"haxProperties",get:function(){return{canScale:!0,canPosition:!0,canEditSource:!1,gizmo:{title:"Multiple choice",description:"Multiple choice self check",icon:"icons:list",color:"purple",groups:["Instructional"],handles:[],meta:{author:"LRNWebComponents"}},settings:{quick:[{property:"title",title:"Title",description:"The title of the element",inputMethod:"textfield",icon:"editor:title"},{property:"question",title:"Question",description:"Question for users to respond to.",inputMethod:"textfield",icon:"icons:help"}],configure:[{property:"title",title:"Title",description:"The title of the element",inputMethod:"textfield"},{property:"hideTitle",title:"Hide title",description:"Whether or not to display the title",inputMethod:"boolean"},{property:"question",title:"Question",description:"Question for users to respond to.",inputMethod:"textfield"},{property:"randomize",title:"Randomize",description:"Randomize the answers dynamically",inputMethod:"boolean"},{property:"answers",title:"Answer set",description:"Answers in a multiple choice",inputMethod:"array",properties:[{property:"correct",title:"Correct",description:"If this is correct or not",inputMethod:"boolean"},{property:"label",title:"Answer",description:"Possible answer to the question",inputMethod:"textfield",required:!0}]},{property:"correctText",title:"Correct feedback",description:"Feedback when they get it right",inputMethod:"textfield"},{property:"incorrectText",title:"Incorrect feedback",description:"Feedback when they get it wrong",inputMethod:"textfield"}],advanced:[{property:"checkLabel",title:"Check answers label",description:"Label for getting solution feedback",inputMethod:"textfield"},{property:"resetLabel",title:"Reset label",description:"label for the reset button",inputMethod:"textfield"}]},saveOptions:{unsetAttributes:["displayed-answers"]}}}}]),r}();window.customElements.define(y.tag,y),e.MultipleChoice=y,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=multiple-choice.umd.js.map
