{"version":3,"file":"pie-menu.umd.js","sources":["pie-menu.umd.js"],"sourcesContent":["import { html, PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { dom } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\n/**\n * `pie-menu`\n * SVG Menu based on the excellent resource at : https://sarasoueidan.com/tools/circulus\n * @demo demo/index.html\n * @microcopy - the mental model for this element\n * - pie - a delicious circle shaped container used to house berries or fruit filling. Best served with <ice-cream> or <boiled-apples>.\n * - pie-menu - a circular menu that has been proven to be easier to use as a navigational element than a rectangular menu.\n * - svg - an HTML tag that no one understands, not even the person who made this, yet loves and respects its differences and knows how important it is.\n */\nclass PieMenu extends PolymerElement {\n  constructor() {\n    super();\n    import(\"@polymer/iron-icons/iron-icons.js\");\n  }\n  static get template() {\n    return html`\n      <style>\n        :host,\n        :host > div {\n          width: 200px;\n          height: 200px;\n        }\n        :host > div {\n          position: relative;\n        }\n        :host > div > * {\n          position: absolute;\n          top: 0;\n          left: 0;\n        }\n        :host > div svg [role=\"button\"] {\n          fill: transparent;\n        }\n        :host > div svg [role=\"button\"]:focus,\n        :host > div svg [role=\"button\"]:hover {\n          stroke: #017ec2;\n          cursor: pointer;\n          outline: none;\n        }\n        :host > div svg .outer-shapes,\n        :host > div svg .inner-shape {\n          fill: #fff;\n          stroke: #ddd;\n        }\n        :host > div svg .outer-shapes.focus,\n        :host > div svg .outer-shapes.hover,\n        :host > div svg .inner-shape.focus,\n        :host > div svg .inner-shape.hover {\n          fill: #cef4ff;\n        }\n        :host > div .icon-container {\n          color: black;\n        }\n        :host > div .icon-container.focus,\n        :host > div .icon-container.hover {\n          color: #017ec2;\n        }\n        :host > div .icon-container {\n          text-align: center;\n          height: 24px;\n          width: 50px;\n          top: 85px;\n          left: 75px;\n        }\n        :host > div[data-hide-label-text=\"true\"] .icon-container {\n          width: 24px;\n          top: 88px;\n          left: 88px;\n        }\n        :host > div .icon-label {\n          font-size: 10px;\n          text-transform: lowercase;\n        }\n        :host > div[data-hide-label-text=\"true\"] .icon-label {\n          display: none;\n        }\n        :host > div > #top-icon {\n          top: 16px;\n        }\n        :host > div[data-hide-label-text=\"true\"] > #top-icon {\n          top: 22px;\n        }\n        :host > div > #right-icon {\n          left: 140px;\n        }\n        :host > div[data-hide-label-text=\"true\"] > #right-icon {\n          left: 153px;\n        }\n        :host > div > #bottom-icon {\n          top: 147px;\n        }\n        :host > div[data-hide-label-text=\"true\"] > #bottom-icon {\n          top: 153px;\n        }\n        :host > div > #left-icon {\n          left: 9px;\n        }\n        :host > div[data-hide-label-text=\"true\"] > #left-icon {\n          left: 22px;\n        }\n      </style>\n      <div data-hide-label-text\\$=\"[[hideLabelText]]\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 193.95 193.94\">\n          <path\n            id=\"right-shape\"\n            data-button=\"right\"\n            class=\"outer-shapes\"\n            d=\"M165.54 28.4a97 97 0 0 1 0 137.14l-46-46a31.86 31.86 0 0 0 0-45z\"\n          ></path>\n          <path\n            id=\"bottom-shape\"\n            data-button=\"bottom\"\n            class=\"outer-shapes\"\n            d=\"M165.54 165.54a97 97 0 0 1-137.14 0l46.05-46a31.84 31.84 0 0 0 45 0z\"\n          ></path>\n          <path\n            id=\"left-shape\"\n            data-button=\"left\"\n            class=\"outer-shapes\"\n            d=\"M28.4 165.54a97 97 0 0 1 0-137.14l46.05 46.05a31.84 31.84 0 0 0 0 45z\"\n          ></path>\n          <path\n            id=\"top-shape\"\n            data-button=\"top\"\n            class=\"outer-shapes\"\n            d=\"M28.4 28.4a97 97 0 0 1 137.14 0l-46 46.05a31.84 31.84 0 0 0-45 0z\"\n          ></path>\n          <circle\n            id=\"center-shape\"\n            data-button=\"center\"\n            class=\"inner-shape\"\n            cx=\"96.97\"\n            cy=\"96.97\"\n            r=\"31.67\"\n          ></circle>\n        </svg>\n        <div id=\"center-icon\" data-button=\"center\" class=\"icon-container\">\n          <iron-icon icon\\$=\"[[centerIcon]]\"></iron-icon>\n          <div class=\"icon-label\" aria-hidden=\"true\">[[centerLabel]]</div>\n        </div>\n        <div id=\"top-icon\" data-button=\"top\" class=\"icon-container\">\n          <iron-icon icon\\$=\"[[topIcon]]\"></iron-icon>\n          <div class=\"icon-label\" aria-hidden=\"true\">[[topLabel]]</div>\n        </div>\n        <div id=\"right-icon\" data-button=\"right\" class=\"icon-container\">\n          <iron-icon icon\\$=\"[[rightIcon]]\"></iron-icon>\n          <div class=\"icon-label\" aria-hidden=\"true\">[[rightLabel]]</div>\n        </div>\n        <div id=\"bottom-icon\" data-button=\"bottom\" class=\"icon-container\">\n          <iron-icon icon\\$=\"[[bottomIcon]]\"></iron-icon>\n          <div class=\"icon-label\" aria-hidden=\"true\">[[bottomLabel]]</div>\n        </div>\n        <div id=\"left-icon\" data-button=\"left\" class=\"icon-container\">\n          <iron-icon icon\\$=\"[[leftIcon]]\"></iron-icon>\n          <div class=\"icon-label\" aria-hidden=\"true\">[[leftLabel]]</div>\n        </div>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 193.95 193.94\">\n          <circle\n            id=\"center-button\"\n            xlink:title\\$=\"[[centerLabel]]\"\n            data-button=\"center\"\n            tabindex=\"0\"\n            on-click=\"_itemTapped\"\n            on-keydown=\"_itemTapped\"\n            role=\"button\"\n            cx=\"96.97\"\n            cy=\"96.97\"\n            r=\"31.67\"\n          ></circle>\n          <path\n            id=\"top-button\"\n            xlink:title\\$=\"[[topLabel]]\"\n            data-button=\"top\"\n            role=\"button\"\n            tabindex=\"0\"\n            on-click=\"_itemTapped\"\n            on-keydown=\"_itemTapped\"\n            d=\"M28.4 28.4a97 97 0 0 1 137.14 0l-46 46.05a31.84 31.84 0 0 0-45 0z\"\n          ></path>\n          <path\n            id=\"right-button\"\n            xlink:title\\$=\"[[rightLabel]]\"\n            data-button=\"right\"\n            role=\"button\"\n            tabindex=\"0\"\n            on-click=\"_itemTapped\"\n            on-keydown=\"_itemTapped\"\n            d=\"M165.54 28.4a97 97 0 0 1 0 137.14l-46-46a31.86 31.86 0 0 0 0-45z\"\n          ></path>\n          <path\n            id=\"bottom-button\"\n            xlink:title\\$=\"[[bottomLabel]]\"\n            data-button=\"bottom\"\n            role=\"button\"\n            tabindex=\"0\"\n            on-click=\"_itemTapped\"\n            on-keydown=\"_itemTapped\"\n            d=\"M165.54 165.54a97 97 0 0 1-137.14 0l46.05-46a31.84 31.84 0 0 0 45 0z\"\n          ></path>\n          <path\n            id=\"left-button\"\n            xlink:title\\$=\"[[leftLabel]]\"\n            data-button=\"left\"\n            role=\"button\"\n            tabindex=\"0\"\n            on-click=\"_itemTapped\"\n            on-keydown=\"_itemTapped\"\n            d=\"M28.4 165.54a97 97 0 0 1 0-137.14l46.05 46.05a31.84 31.84 0 0 0 0 45z\"\n          ></path>\n        </svg>\n      </div>\n    `;\n  }\n  static get tag() {\n    return \"pie-menu\";\n  }\n  static get properties() {\n    return {\n      /**\n       * hide label text below icons\n       */\n      hideLabelText: {\n        type: String,\n        value: \"false\"\n      },\n      /**\n       * center button label\n       */\n      centerLabel: {\n        type: String,\n        value: \"Home\"\n      },\n      /**\n       * top button label\n       */\n      topLabel: {\n        type: String,\n        value: \"Option 1\"\n      },\n      /**\n       * left button label\n       */\n      leftLabel: {\n        type: String,\n        value: \"Option 2\"\n      },\n      /**\n       * bottom button label\n       */\n      bottomLabel: {\n        type: String,\n        value: \"Option 3\"\n      },\n      /**\n       * right button label\n       */\n      rightLabel: {\n        type: String,\n        value: \"Option 4\"\n      },\n      /**\n       * center button label\n       */\n      centerIcon: {\n        type: String,\n        value: \"icons:check-box-outline-blank\"\n      },\n      /**\n       * top button label\n       */\n      topIcon: {\n        type: String,\n        value: \"icons:check-box-outline-blank\"\n      },\n      /**\n       * left button label\n       */\n      leftIcon: {\n        type: String,\n        value: \"icons:check-box-outline-blank\"\n      },\n      /**\n       * bottom button label\n       */\n      bottomIcon: {\n        type: String,\n        value: \"icons:check-box-outline-blank\"\n      },\n      /**\n       * right button label\n       */\n      rightIcon: {\n        type: String,\n        value: \"icons:check-box-outline-blank\"\n      }\n    };\n  }\n  /**\n   * add listeners for data-buttons\n   */\n  ready() {\n    super.ready();\n    var buttons = this.querySelectorAll('[role=\"button\"][data-button]');\n    for (var i = 0; i < buttons.length; i++) {\n      this._addListenerAddState(this, buttons[i], \"mouseover\", \"hover\");\n      this._addListenerAddState(this, buttons[i], \"focus\", \"focus\");\n      this._addListenerRemoveState(this, buttons[i], \"mouseout\", \"hover\");\n      this._addListenerRemoveState(this, buttons[i], \"blur\", \"focus\");\n    }\n  }\n  /**\n   * add focus or hover states\n   */\n  _addListenerAddState(menu, button, action, state) {\n    button.addEventListener(action, e => {\n      var elements = menu._getButtonElements(menu, button);\n      for (var i = 0; i < elements.length; i++) {\n        elements[i].classList.add(state);\n      }\n    });\n  }\n  /**\n   * remove focus or hover states\n   */\n  _addListenerRemoveState(menu, button, action, state) {\n    button.addEventListener(action, e => {\n      var elements = menu._getButtonElements(menu, button);\n      for (var i = 0; i < elements.length; i++) {\n        elements[i].classList.remove(state);\n      }\n    });\n  }\n  _getButtonElements(menu, button) {\n    return menu.querySelectorAll(\n      '[data-button=\"' + button.getAttribute(\"data-button\") + '\"]'\n    );\n  }\n  /**\n   * Simple trap for bubbling up a tap / click event.\n   */\n  _itemTapped(e) {\n    var normalizedEvent = dom(e);\n    var localLink = normalizedEvent.localTarget;\n    // make sure we normalize tap vs click vs keyboard\n    if (\n      !(\n        localLink.hasAttribute(\"role\") &&\n        localLink.getAttribute(\"role\") !== \"button\"\n      )\n    ) {\n      localLink = localLink.parentNode;\n    }\n    // bubble up event\n    this.dispatchEvent(\n      new CustomEvent(\"pie-menu-selection\", {\n        bubbles: true,\n        cancelable: true,\n        composed: true,\n        detail: { option: localLink }\n      })\n    );\n  }\n}\nwindow.customElements.define(PieMenu.tag, PieMenu);\nexport { PieMenu };\n"],"names":["PieMenu","PolymerElement","html","hideLabelText","type","String","value","centerLabel","topLabel","leftLabel","bottomLabel","rightLabel","centerIcon","topIcon","leftIcon","bottomIcon","rightIcon","buttons","this","querySelectorAll","i","length","_addListenerAddState","_addListenerRemoveState","menu","button","action","state","addEventListener","e","elements","_getButtonElements","classList","add","remove","getAttribute","localLink","dom","localTarget","hasAttribute","parentNode","dispatchEvent","CustomEvent","bubbles","cancelable","composed","detail","option","window","customElements","define","tag"],"mappings":"+xcAWMA,8KAGK,6RAHWC,+DAMXC,8CAuMA,oDAGA,CAILC,cAAe,CACbC,KAAMC,OACNC,MAAO,SAKTC,YAAa,CACXH,KAAMC,OACNC,MAAO,QAKTE,SAAU,CACRJ,KAAMC,OACNC,MAAO,YAKTG,UAAW,CACTL,KAAMC,OACNC,MAAO,YAKTI,YAAa,CACXN,KAAMC,OACNC,MAAO,YAKTK,WAAY,CACVP,KAAMC,OACNC,MAAO,YAKTM,WAAY,CACVR,KAAMC,OACNC,MAAO,iCAKTO,QAAS,CACPT,KAAMC,OACNC,MAAO,iCAKTQ,SAAU,CACRV,KAAMC,OACNC,MAAO,iCAKTS,WAAY,CACVX,KAAMC,OACNC,MAAO,iCAKTU,UAAW,CACTZ,KAAMC,OACNC,MAAO,yHASPW,EAAUC,KAAKC,iBAAiB,gCAC3BC,EAAI,EAAGA,EAAIH,EAAQI,OAAQD,SAC7BE,qBAAqBJ,KAAMD,EAAQG,GAAI,YAAa,cACpDE,qBAAqBJ,KAAMD,EAAQG,GAAI,QAAS,cAChDG,wBAAwBL,KAAMD,EAAQG,GAAI,WAAY,cACtDG,wBAAwBL,KAAMD,EAAQG,GAAI,OAAQ,sDAMtCI,EAAMC,EAAQC,EAAQC,GACzCF,EAAOG,iBAAiBF,EAAQ,SAAAG,WAC1BC,EAAWN,EAAKO,mBAAmBP,EAAMC,GACpCL,EAAI,EAAGA,EAAIU,EAAST,OAAQD,IACnCU,EAASV,GAAGY,UAAUC,IAAIN,qDAORH,EAAMC,EAAQC,EAAQC,GAC5CF,EAAOG,iBAAiBF,EAAQ,SAAAG,WAC1BC,EAAWN,EAAKO,mBAAmBP,EAAMC,GACpCL,EAAI,EAAGA,EAAIU,EAAST,OAAQD,IACnCU,EAASV,GAAGY,UAAUE,OAAOP,gDAIhBH,EAAMC,UAChBD,EAAKL,iBACV,iBAAmBM,EAAOU,aAAa,eAAiB,0CAMhDN,OAENO,EADkBC,MAAIR,GACMS,YAI5BF,EAAUG,aAAa,SACY,WAAnCH,EAAUD,aAAa,UAGzBC,EAAYA,EAAUI,iBAGnBC,cACH,IAAIC,YAAY,qBAAsB,CACpCC,SAAS,EACTC,YAAY,EACZC,UAAU,EACVC,OAAQ,CAAEC,OAAQX,2CAK1BY,OAAOC,eAAeC,OAAOlD,EAAQmD,IAAKnD"}