{"version":3,"file":"license-element.umd.js","sources":["license-element.umd.js"],"sourcesContent":["/**\n * A list of licenses that we support the references for.\n */\nexport class licenseList {\n  constructor(mode = \"full\") {\n    // initial list, PR to add more\n    let list = {\n      by: {\n        name: \"Attribution\",\n        link: \"https://creativecommons.org/licenses/by/4.0/\",\n        image: \"https://i.creativecommons.org/l/by/4.0/88x31.png\"\n      },\n      \"by-sa\": {\n        name: \"Attribution Share a like\",\n        link: \"https://creativecommons.org/licenses/by-sa/4.0/\",\n        image: \"https://i.creativecommons.org/l/by-sa/4.0/88x31.png\"\n      },\n      \"by-nd\": {\n        name: \"Attribution No derivatives\",\n        link: \"https://creativecommons.org/licenses/by-nd/4.0/\",\n        image: \"https://i.creativecommons.org/l/by-nd/4.0/88x31.png\"\n      },\n      \"by-nc\": {\n        name: \"Attribution non-commercial\",\n        link: \"https://creativecommons.org/licenses/by-nc/4.0/\",\n        image: \"https://i.creativecommons.org/l/by-nc/4.0/88x31.png\"\n      },\n      \"by-nc-sa\": {\n        name: \"Attribution non-commercial share a like\",\n        link: \"https://creativecommons.org/licenses/by-nc-sa/4.0/\",\n        image: \"https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png\"\n      },\n      \"by-nc-nd\": {\n        name: \"Attribution Non-commercial No derivatives\",\n        link: \"https://creativecommons.org/licenses/by-nc-nd/4.0/\",\n        image: \"https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png\"\n      }\n    };\n    // support mutating the array into a select list\n    if (mode == \"select\") {\n      var select = {};\n      for (var i in list) {\n        select[i] = list[i].name;\n      }\n      return select;\n    }\n    return list;\n  }\n}\n\nimport { html, PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { afterNextRender } from \"@polymer/polymer/lib/utils/render-status.js\";\nimport { HAXWiring } from \"@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js\";\nimport { SchemaBehaviors } from \"@lrnwebcomponents/schema-behaviors/schema-behaviors.js\";\n/**\n * `license-element`\n * `A simple way of applying a semantically accurate license to work.`\n * @demo demo/index.html\n * @microcopy - the mental model for this element\n */\nclass LicenseElement extends SchemaBehaviors(PolymerElement) {\n  static get template() {\n    return html`\n      <style>\n        :host {\n          display: block;\n          font-size: 16px;\n          line-height: 32px;\n          --license-text-color: #222222;\n          --license-background-color: #f2f2f2;\n          background-color: var(--license-background-color);\n        }\n        :host:after {\n          content: \"License\";\n          position: relative;\n          float: right;\n          bottom: 36px;\n          right: 8px;\n          font-size: 28px;\n          color: #dddddd;\n          font-style: italic;\n        }\n        .license-body {\n          padding: 32px;\n          font-style: italic;\n          background-color: var(--license-background-color);\n          color: var(--license-text-color);\n          @apply --license-body;\n        }\n\n        :host([display-method=\"footnote\"]) {\n          visibility: hidden;\n          opacity: 0;\n        }\n        :host([display-method=\"popup\"]) {\n          display: block;\n        }\n        .license-link {\n          font-style: italic;\n          @apply --license-link;\n        }\n        .big-license-link img {\n          margin-right: 8px;\n          margin-bottom: 8px;\n          width: 88px;\n          height: 31px;\n          vertical-align: middle;\n        }\n        .work-title {\n          font-weight: bold;\n        }\n      </style>\n      <meta\n        rel=\"cc:license\"\n        href\\$=\"[[licenseLink]]\"\n        content\\$=\"License: [[licenseName]]\"\n      />\n      <div\n        class=\"license-body\"\n        xmlns:cc\\$=\"[[licenseLink]]\"\n        xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\n      >\n        <a class=\"big-license-link\" target=\"_blank\" href=\"[[licenseLink]]\"\n          ><img\n            alt=\"[[licenseName]] graphic\"\n            src=\"[[licenseImage]]\"\n            hidden\\$=\"[[!licenseImage]]\"\n        /></a>\n        <span\n          class=\"work-title\"\n          rel=\"dc:type\"\n          href=\"http://purl.org/dc/dcmitype/Text\"\n          property=\"dc:title\"\n          >[[title]]</span\n        >\n        by\n        <a\n          rel=\"cc:attributionURL\"\n          property=\"cc:attributionName\"\n          href\\$=\"[[source]]\"\n          >[[creator]]</a\n        >\n        is licensed under a\n        <a class=\"license-link\" target=\"_blank\" href=\"[[licenseLink]]\"\n          >[[licenseName]]</a\n        >. <span rel=\"dc:source\" href\\$=\"[[source]]\"></span>\n\n        <template is=\"dom-if\" if=\"[[hasMore]]\">\n          <span\n            >Permissions beyond the scope of this license are available\n            <a rel=\"cc:morePermissions\" target=\"_blank\" href=\"[[moreLink]]\"\n              >[[moreLabel]]</a\n            >.</span\n          >\n        </template>\n      </div>\n    `;\n  }\n\n  static get tag() {\n    return \"license-element\";\n  }\n  static get properties() {\n    let props = {\n      /**\n       * Title of the work.\n       */\n      title: {\n        type: String\n      },\n      /**\n       * Person or group that owns / created the work.\n       */\n      creator: {\n        type: String\n      },\n      /**\n       * Original Source of the work in question\n       */\n      source: {\n        type: String\n      },\n      /**\n       * License name, calculated or supplied by the end user if we don't have them.\n       */\n      licenseName: {\n        type: String\n      },\n      /**\n       * License link for more details\n       */\n      licenseLink: {\n        type: String\n      },\n      /**\n       * License short hand. Options cc0,\n       */\n      license: {\n        type: String,\n        observer: \"_licenseUpdated\"\n      },\n      /**\n       * More details label\n       */\n      moreLabel: {\n        type: String,\n        value: \"on the licensing details page\"\n      },\n      /**\n       * More details link\n       */\n      moreLink: {\n        type: String\n      },\n      /**\n       * See if we have more things to point to\n       */\n      hasMore: {\n        type: Boolean,\n        computed: \"_computeHasMore(moreLink)\"\n      }\n    };\n    if (super.properties) {\n      props = Object.assign(props, super.properties);\n    }\n    return props;\n  }\n  constructor() {\n    super();\n    this.licenseList = new licenseList();\n    afterNextRender(this, function() {\n      this.HAXWiring = new HAXWiring();\n      this.HAXWiring.setup(\n        LicenseElement.haxProperties,\n        LicenseElement.tag,\n        this\n      );\n    });\n  }\n  static get haxProperties() {\n    return {\n      canScale: false,\n      canPosition: false,\n      canEditSource: false,\n      gizmo: {\n        title: \"License\",\n        description: \"Provide a license for you rwork\",\n        icon: \"icons:theaters\",\n        color: \"grey\",\n        groups: [\"Content\", \"Copyright\"],\n        handles: [\n          {\n            type: \"license\",\n            source: \"source\",\n            title: \"title\",\n            author: \"creator\",\n            license: \"license\"\n          }\n        ],\n        meta: {\n          author: \"LRNWebComponents\"\n        }\n      },\n      settings: {\n        quick: [\n          {\n            property: \"title\",\n            title: \"Title\",\n            description: \"The title of the work being cited.\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          }\n        ],\n        configure: [\n          {\n            property: \"title\",\n            title: \"Title\",\n            description: \"The title of the work being cited.\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          },\n          {\n            property: \"source\",\n            title: \"Source link\",\n            description: \"The source url for the element this is citing.\",\n            inputMethod: \"textfield\",\n            icon: \"link\",\n            validationType: \"url\"\n          },\n          {\n            property: \"license\",\n            title: \"License\",\n            description: \"The source url for the element this is citing.\",\n            inputMethod: \"select\",\n            options: new licenseList(\"select\"),\n            icon: \"link\"\n          },\n          {\n            property: \"creator\",\n            title: \"Creator\",\n            description: \"Who made or owns this.\",\n            inputMethod: \"textfield\",\n            icon: \"link\"\n          }\n        ],\n        advanced: [\n          {\n            property: \"moreLink\",\n            title: \"Source link\",\n            description: \"Link to additional licensing details\",\n            inputMethod: \"textfield\",\n            validationType: \"url\"\n          },\n          {\n            property: \"moreLabel\",\n            title: \"more label\",\n            description: \"Label for more licensing details\",\n            inputMethod: \"textfield\"\n          }\n        ]\n      }\n    };\n  }\n  /**\n   * Calculate if we should show the advanced details area\n   */\n  _computeHasMore(link) {\n    // only show if there's a link supplied for additional details\n    if (typeof link !== typeof undefined && link !== \"\") {\n      return true;\n    }\n    return false;\n  }\n  /**\n   * License was updated, time to update license name and link.\n   */\n  _licenseUpdated(newValue, oldValue) {\n    if (\n      typeof newValue !== typeof undefined &&\n      typeof this.licenseList[newValue] !== typeof undefined\n    ) {\n      this.licenseName = this.licenseList[newValue].name;\n      this.licenseLink = this.licenseList[newValue].link;\n      this.licenseImage = this.licenseList[newValue].image;\n    }\n  }\n}\nwindow.customElements.define(LicenseElement.tag, LicenseElement);\nexport { LicenseElement };\n"],"names":["licenseList","mode","list","by","name","link","image","select","i","LicenseElement","afterNextRender","HAXWiring","setup","haxProperties","tag","this","SchemaBehaviors","PolymerElement","html","props","title","type","String","creator","source","licenseName","licenseLink","license","observer","moreLabel","value","moreLink","hasMore","Boolean","computed","Object","assign","_typeof","newValue","oldValue","licenseImage","canScale","canPosition","canEditSource","gizmo","description","icon","color","groups","handles","author","meta","settings","quick","property","inputMethod","configure","validationType","options","advanced","window","customElements","define"],"mappings":"w0OAGaA,EACX,iBAAYC,yDAAO,qBAEbC,EAAO,CACTC,GAAI,CACFC,KAAM,cACNC,KAAM,+CACNC,MAAO,4DAEA,CACPF,KAAM,2BACNC,KAAM,kDACNC,MAAO,+DAEA,CACPF,KAAM,6BACNC,KAAM,kDACNC,MAAO,+DAEA,CACPF,KAAM,6BACNC,KAAM,kDACNC,MAAO,kEAEG,CACVF,KAAM,0CACNC,KAAM,qDACNC,MAAO,qEAEG,CACVF,KAAM,4CACNC,KAAM,qDACNC,MAAO,8DAIC,UAARL,EAAkB,KAChBM,EAAS,OACR,IAAIC,KAAKN,EACZK,EAAOC,GAAKN,EAAKM,GAAGJ,YAEfG,SAEFL,GAcLO,uIAyKGT,YAAc,IAAIA,EACvBU,uBAAsB,gBACfC,UAAY,IAAIA,iBAChBA,UAAUC,MACbH,EAAeI,cACfJ,EAAeK,IACfC,sPA/KqBC,kBAAgBC,mEAElCC,8CAkGA,yDAGHC,EAAQ,CAIVC,MAAO,CACLC,KAAMC,QAKRC,QAAS,CACPF,KAAMC,QAKRE,OAAQ,CACNH,KAAMC,QAKRG,YAAa,CACXJ,KAAMC,QAKRI,YAAa,CACXL,KAAMC,QAKRK,QAAS,CACPN,KAAMC,OACNM,SAAU,mBAKZC,UAAW,CACTR,KAAMC,OACNQ,MAAO,iCAKTC,SAAU,CACRV,KAAMC,QAKRU,QAAS,CACPX,KAAMY,QACNC,SAAU,iEAIZf,EAAQgB,OAAOC,OAAOjB,8BAEjBA,iDAqGOd,uBAEVgC,EAAOhC,IAAsC,KAATA,0CAQ1BiC,EAAUC,iBAEtBF,EAAOC,kBACPD,EAAOtB,KAAKf,YAAYsC,WAEnBb,YAAcV,KAAKf,YAAYsC,GAAUlC,UACzCsB,YAAcX,KAAKf,YAAYsC,GAAUjC,UACzCmC,aAAezB,KAAKf,YAAYsC,GAAUhC,qDAvG1C,CACLmC,UAAU,EACVC,aAAa,EACbC,eAAe,EACfC,MAAO,CACLxB,MAAO,UACPyB,YAAa,kCACbC,KAAM,iBACNC,MAAO,OACPC,OAAQ,CAAC,UAAW,aACpBC,QAAS,CACP,CACE5B,KAAM,UACNG,OAAQ,SACRJ,MAAO,QACP8B,OAAQ,UACRvB,QAAS,YAGbwB,KAAM,CACJD,OAAQ,qBAGZE,SAAU,CACRC,MAAO,CACL,CACEC,SAAU,QACVlC,MAAO,QACPyB,YAAa,qCACbU,YAAa,YACbT,KAAM,iBAGVU,UAAW,CACT,CACEF,SAAU,QACVlC,MAAO,QACPyB,YAAa,qCACbU,YAAa,YACbT,KAAM,gBAER,CACEQ,SAAU,SACVlC,MAAO,cACPyB,YAAa,iDACbU,YAAa,YACbT,KAAM,OACNW,eAAgB,OAElB,CACEH,SAAU,UACVlC,MAAO,UACPyB,YAAa,iDACbU,YAAa,SACbG,QAAS,IAAI1D,EAAY,UACzB8C,KAAM,QAER,CACEQ,SAAU,UACVlC,MAAO,UACPyB,YAAa,yBACbU,YAAa,YACbT,KAAM,SAGVa,SAAU,CACR,CACEL,SAAU,WACVlC,MAAO,cACPyB,YAAa,uCACbU,YAAa,YACbE,eAAgB,OAElB,CACEH,SAAU,YACVlC,MAAO,aACPyB,YAAa,mCACbU,YAAa,yBA8BzBK,OAAOC,eAAeC,OAAOrD,EAAeK,IAAKL"}