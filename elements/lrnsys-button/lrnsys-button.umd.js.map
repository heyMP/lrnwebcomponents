{"version":3,"file":"lrnsys-button.umd.js","sources":["lrnsys-button.umd.js"],"sourcesContent":["/**\n * Copyright 2018 The Pennsylvania State University\n * @license Apache-2.0, see License.md for full text.\n */\nimport { html, PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { afterNextRender } from \"@polymer/polymer/lib/utils/render-status.js\";\nimport \"@lrnwebcomponents/materializecss-styles/lib/colors.js\";\nimport \"@polymer/paper-button/paper-button.js\";\nimport \"@polymer/iron-icon/iron-icon.js\";\n/**\n * `lrnsys-button`\n * `A simple button for use in systems`\n * @demo demo/index.html\n */\nclass LrnsysButton extends PolymerElement {\n  constructor() {\n    super();\n    import(\"@polymer/iron-icons/iron-icons.js\");\n    import(\"@polymer/paper-tooltip/paper-tooltip.js\");\n  }\n  static get template() {\n    return html`\n      <style include=\"materializecss-styles-colors\">\n        :host {\n          display: block;\n          @apply --paper-font-common-base;\n          @apply --paper-button;\n          --lrnsys-button-height: 48px;\n        }\n        a {\n          text-decoration: none;\n          display: block;\n          color: var(--lrnsys-button-link-color, #000000);\n          display: flex;\n        }\n        paper-button {\n          padding: 0;\n          margin: 0;\n          min-width: 0.16px;\n          height: inherit;\n          -webkit-justify-content: flex-start;\n          justify-content: flex-start;\n          align-items: center;\n          width: 100%;\n          text-transform: unset;\n          border-radius: unset;\n          display: flex;\n        }\n        .no-padding {\n          padding: 0;\n        }\n        paper-button iron-icon {\n          height: var(--lrnsys-button-height);\n          margin: 0 4px;\n        }\n        paper-button iron-icon:first-child {\n          margin: 0 4px 0 0;\n        }\n        paper-button iron-icon:last-child {\n          margin: 0 0 0 4px;\n        }\n        paper-button div.inner {\n          height: var(--lrnsys-button-height);\n          line-height: var(--lrnsys-button-height);\n          display: flex;\n          padding: 0 16px;\n        }\n        paper-button span.label {\n          height: var(--lrnsys-button-height);\n          line-height: var(--lrnsys-button-height);\n        }\n        .no-margin {\n          margin: 0 !important;\n        }\n        .no-right-padding {\n          padding-right: 0 !important;\n        }\n        .no-left-padding {\n          padding-left: 0 !important;\n        }\n      </style>\n      <a\n        tabindex=\"-1\"\n        id=\"lrnsys-button-link\"\n        href\\$=\"[[showHref]]\"\n        target\\$=\"[[target]]\"\n      >\n        <paper-button\n          id=\"button\"\n          title=\"[[alt]]\"\n          raised=\"[[raised]]\"\n          class\\$=\"[[buttonClass]] [[color]] [[textColor]]\"\n          disabled\\$=\"[[disabled]]\"\n        >\n          <div class\\$=\"inner [[innerClass]]\">\n            <slot name=\"prefix\"></slot>\n            <iron-icon\n              icon=\"[[icon]]\"\n              id=\"icon\"\n              class\\$=\"[[iconClass]]\"\n              hidden\\$=\"[[!icon]]\"\n            ></iron-icon>\n            <span class=\"label\" hidden\\$=\"[[!label]]\"> [[label]] </span>\n            <slot></slot>\n          </div>\n        </paper-button>\n      </a>\n      <paper-tooltip\n        for=\"lrnsys-button-link\"\n        animation-delay=\"0\"\n        hidden\\$=\"[[!alt]]\"\n        >[[alt]]</paper-tooltip\n      >\n    `;\n  }\n\n  static get tag() {\n    return \"lrnsys-button\";\n  }\n\n  static get properties() {\n    return {\n      /**\n       * Standard href pass down\n       */\n      href: {\n        type: String,\n        value: \"#\",\n        reflectToAttribute: true\n      },\n      showHref: {\n        type: String,\n        value: false,\n        reflectToAttribute: true,\n        computed: \"_getShowHref(href,disabled)\"\n      },\n      /**\n       * If the button should be visually lifted off the UI.\n       */\n      raised: {\n        type: Boolean,\n        reflectToAttribute: true\n      },\n      /**\n       * Label to place in the text area\n       */\n      label: {\n        type: String,\n        value: \"\"\n      },\n      /**\n       * Support for target to open in new windows.\n       */\n      target: {\n        type: String,\n        value: \"\"\n      },\n      /**\n       * iron-icon to use (with iconset if needed)\n       */\n      icon: {\n        type: String,\n        value: false\n      },\n      /**\n       * Classes to add / subtract based on the item being hovered.\n       */\n      hoverClass: {\n        type: String\n      },\n      /**\n       * Button class.\n       */\n      buttonClass: {\n        type: String\n      },\n      /**\n       * Icon class in the event you want it to look different from the text.\n       */\n      iconClass: {\n        type: String\n      },\n      /**\n       * Inner container classes.\n       */\n      innerClass: {\n        type: String\n      },\n      /**\n       * Color class work to apply\n       */\n      color: {\n        type: String,\n        reflectToAttribute: true\n      },\n      /**\n       * materializeCSS color class for text\n       */\n      textColor: {\n        type: String\n      },\n      /**\n       * Allow for prefetch data automatically\n       */\n      prefetch: {\n        type: Boolean,\n        observer: \"_applyPrefetch\"\n      },\n      /**\n       * Alt via tooltip.\n       */\n      alt: {\n        type: String\n      },\n      /**\n       * Disabled state.\n       */\n      disabled: {\n        type: Boolean,\n        value: false\n      },\n      /**\n       * Tracks if focus state is applied\n       */\n      focusState: {\n        type: Boolean,\n        value: false\n      }\n    };\n  }\n  _applyPrefetch(newValue) {\n    if (newValue && this.__ready && !this.__prefetchLink) {\n      let link = document.createElement(\"link\");\n      link.setAttribute(\"rel\", \"prefetch\");\n      link.setAttribute(\"href\", this.href);\n      // store for disconnect so we can clean up if needed\n      this.__prefetchLink = link;\n      document.head.appendChild(link);\n    }\n  }\n  /**\n   * attached life cycle\n   */\n  ready() {\n    super.ready();\n    afterNextRender(this, function() {\n      this.addEventListener(\"mousedown\", this.tapEventOn.bind(this));\n      this.addEventListener(\"mouseover\", this.tapEventOn.bind(this));\n      this.addEventListener(\"mouseout\", this.tapEventOff.bind(this));\n      this.$.button.addEventListener(\n        \"focused-changed\",\n        this.focusToggle.bind(this)\n      );\n    });\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.__ready = true;\n    afterNextRender(this, function() {\n      // if we have been told to prefetch, give it a second after everything's ready\n      if (this.prefetch) {\n        setTimeout(() => {\n          this._applyPrefetch(this.prefetch);\n        }, 1000);\n      }\n    });\n  }\n  /**\n   * detached event listener\n   */\n  disconnectedCallback() {\n    if (this.__prefetchLink) {\n      document.head.removeChild(this.__prefetchLink);\n    }\n    this.removeEventListener(\"mousedown\", this.tapEventOn.bind(this));\n    this.removeEventListener(\"mouseover\", this.tapEventOn.bind(this));\n    this.removeEventListener(\"mouseout\", this.tapEventOff.bind(this));\n    this.$.button.removeEventListener(\n      \"focused-changed\",\n      this.focusToggle.bind(this)\n    );\n    super.disconnectedCallback();\n  }\n\n  /**\n   * Generate the pass down href if it exists. This helps\n   * ensure that if a button is disabled it won't do anything\n   * even if it has a resource reference.\n   */\n  _getShowHref(href, disabled) {\n    if (href && !disabled) {\n      return href;\n    }\n  }\n\n  /**\n   * Class processing on un-tap / hover\n   */\n  tapEventOn(e) {\n    if (typeof this.hoverClass !== typeof undefined && !this.disabled) {\n      // break class into array\n      var classes = this.hoverClass.split(\" \");\n      // run through each and add or remove classes\n      classes.forEach((item, index) => {\n        if (item != \"\") {\n          this.$.button.classList.add(item);\n          if (item.indexOf(\"-\") != -1) {\n            this.$.icon.classList.add(item);\n          }\n        }\n      });\n    }\n  }\n\n  /**\n   * Undo class processing on un-tap / hover\n   */\n  tapEventOff(e) {\n    if (typeof this.hoverClass !== typeof undefined && !this.disabled) {\n      // break class into array\n      var classes = this.hoverClass.split(\" \");\n      // run through each and add or remove classes\n      classes.forEach((item, index) => {\n        if (item != \"\") {\n          this.$.button.classList.remove(item);\n          if (item.indexOf(\"-\") != -1) {\n            this.$.icon.classList.remove(item);\n          }\n        }\n      });\n    }\n  }\n  /**\n   * Handle toggle for mouse class and manage classList array for paper-button.\n   */\n  focusToggle(e) {\n    // weird but reality... focus event is the button inside of here\n    if (typeof this.hoverClass !== typeof undefined && !this.disabled) {\n      // break class into array\n      var classes = this.hoverClass.split(\" \");\n      // run through each and add or remove classes\n      classes.forEach((item, index) => {\n        if (item != \"\") {\n          if (!this.focusState) {\n            this.$.button.classList.add(item);\n            if (item.indexOf(\"-\") != -1) {\n              this.$.icon.classList.add(item);\n            }\n          } else {\n            this.$.button.classList.remove(item);\n            if (item.indexOf(\"-\") != -1) {\n              this.$.icon.classList.remove(item);\n            }\n          }\n        }\n      });\n    }\n    this.focusState = !this.focusState;\n  }\n}\nwindow.customElements.define(LrnsysButton.tag, LrnsysButton);\nexport { LrnsysButton };\n"],"names":["LrnsysButton","PolymerElement","html","href","type","String","value","reflectToAttribute","showHref","computed","raised","Boolean","label","target","icon","hoverClass","buttonClass","iconClass","innerClass","color","textColor","prefetch","observer","alt","disabled","focusState","newValue","this","__ready","__prefetchLink","link","document","createElement","setAttribute","head","appendChild","afterNextRender","addEventListener","tapEventOn","bind","tapEventOff","$","button","focusToggle","setTimeout","_this2","_applyPrefetch","removeChild","removeEventListener","e","_typeof","split","forEach","item","index","_this3","classList","add","indexOf","_this4","remove","_this5","window","customElements","define","tag"],"mappings":"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"}