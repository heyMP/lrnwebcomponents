!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@polymer/polymer/polymer-element.js"),require("@polymer/polymer/lib/utils/render-status.js"),require("@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js"),require("@lrnwebcomponents/schema-behaviors/schema-behaviors.js"),require("@polymer/iron-a11y-keys/iron-a11y-keys.js")):"function"==typeof define&&define.amd?define(["exports","@polymer/polymer/polymer-element.js","@polymer/polymer/lib/utils/render-status.js","@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js","@lrnwebcomponents/schema-behaviors/schema-behaviors.js","@polymer/iron-a11y-keys/iron-a11y-keys.js"],e):e((t=t||self).A11YGifPlayer={},t.polymerElement_js,t.renderStatus_js,t.HAXWiring_js,t.schemaBehaviors_js)}(this,function(t,e,n,i,o){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function u(){var t,e,n=(t=['\n      <style>\n        :host {\n          display: block;\n        }\n        :host #gifbutton > * {\n          position: relative;\n        }\n        :host #svg {\n          position: absolute;\n          top: 35%;\n          left: 35%;\n        }\n        :host #gifbutton:active,\n        :host #gifbutton:focus,\n        :host #gifbutton:hover {\n          cursor: pointer;\n          outline: 1px solid blue;\n        }\n        :host #preload {\n          display: none;\n        }\n      </style>\n      <div id="gifbutton" aria-role="button" aria-controls="gif" tabindex="0">\n        <div>\n          <img\n            id="gif"\n            alt$="[[alt]]"\n            src$="[[srcWithoutAnimation]]"\n            style="width:100%;height:100%;"\n          />\n          <svg\n            id="svg"\n            xmlns="http://www.w3.org/2000/svg"\n            viewBox="0 0 200 200"\n            width="30%"\n            height="30%"\n          >\n            <g opacity=".5">\n              <polygon\n                points="30,20 30,180 170,100"\n                fill="#000000"\n                stroke="#ffffff"\n                stroke-width="15px"\n              ></polygon>\n              <text x="50" y="115" fill="#ffffff" font-size="40px">GIF</text>\n            </g>\n          </svg>\n        </div>\n      </div>\n      <iron-image id="preload" src$="[[src]]" hidden=""></iron-image>\n      <iron-a11y-keys\n        id="a11y"\n        keys="enter space"\n        on-keys-pressed="toggleAnimation"\n      ></iron-a11y-keys>\n    '],(e=['\n      <style>\n        :host {\n          display: block;\n        }\n        :host #gifbutton > * {\n          position: relative;\n        }\n        :host #svg {\n          position: absolute;\n          top: 35%;\n          left: 35%;\n        }\n        :host #gifbutton:active,\n        :host #gifbutton:focus,\n        :host #gifbutton:hover {\n          cursor: pointer;\n          outline: 1px solid blue;\n        }\n        :host #preload {\n          display: none;\n        }\n      </style>\n      <div id="gifbutton" aria-role="button" aria-controls="gif" tabindex="0">\n        <div>\n          <img\n            id="gif"\n            alt\\$="[[alt]]"\n            src\\$="[[srcWithoutAnimation]]"\n            style="width:100%;height:100%;"\n          />\n          <svg\n            id="svg"\n            xmlns="http://www.w3.org/2000/svg"\n            viewBox="0 0 200 200"\n            width="30%"\n            height="30%"\n          >\n            <g opacity=".5">\n              <polygon\n                points="30,20 30,180 170,100"\n                fill="#000000"\n                stroke="#ffffff"\n                stroke-width="15px"\n              ></polygon>\n              <text x="50" y="115" fill="#ffffff" font-size="40px">GIF</text>\n            </g>\n          </svg>\n        </div>\n      </div>\n      <iron-image id="preload" src\\$="[[src]]" hidden=""></iron-image>\n      <iron-a11y-keys\n        id="a11y"\n        keys="enter space"\n        on-keys-pressed="toggleAnimation"\n      ></iron-a11y-keys>\n    '])||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}})));return u=function(){return n},n}var p=function(t){function p(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),t=a(this,s(p).call(this)),import("@polymer/iron-image/iron-image.js"),t}var h,f,y;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(p,o.SchemaBehaviors(e.PolymerElement)),h=p,y=[{key:"template",get:function(){return e.html(u())}},{key:"tag",get:function(){return"a11y-gif-player"}},{key:"properties",get:function(){var t={src:{type:String,value:null},srcWithoutAnimation:{type:String,value:null},alt:{type:String,value:null}};return c(s(p),"properties",this)&&(t=Object.assign(t,c(s(p),"properties",this))),t}},{key:"haxProperties",get:function(){return{canScale:!0,canPosition:!0,canEditSource:!1,gizmo:{title:"Accessible GIF",description:"Makes animated GIFs accessible.",icon:"gif",color:"grey",groups:["Images","Media"],handles:[{type:"image",source:"src",source2:"srcWithoutAnimation",alt:"alt"}],meta:{author:"LRNWebComponents"}},settings:{quick:[{property:"src",title:"Animated GIF",description:"The URL to your animated GIF.",inputMethod:"textfield",icon:"link",validationType:"url",required:!0},{property:"srcWithoutAnimation",title:"Still Image",description:"The URL to a still image version of your GIF.",inputMethod:"textfield",icon:"link",validationType:"url",required:!0},{property:"alt",title:"Alt Text",description:"Alternative text for the image.",inputMethod:"textfield",icon:"accessibility",required:!0}],configure:[{property:"src",title:"Animated GIF",description:"The URL to your animated GIF.",inputMethod:"haxupload",icon:"link",validationType:"url",required:!0},{property:"srcWithoutAnimation",title:"Still Image",description:"The URL to a still image version of your GIF.",inputMethod:"haxupload",icon:"link",validationType:"url",required:!0},{property:"alt",title:"Alt Text",description:"Alternative text for the image.",inputMethod:"alt",icon:"accessibility",required:!0}],advanced:[]}}}}],(f=[{key:"connectedCallback",value:function(){c(s(p.prototype),"connectedCallback",this).call(this),n.afterNextRender(this,function(){this.addEventListener("click",this.toggleAnimation.bind(this)),this.HAXWiring=new i.HAXWiring,this.HAXWiring.setup(p.haxProperties,p.tag,this)})}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this.toggleAnimation.bind(this)),c(s(p.prototype),"disconnectedCallback",this).call(this)}},{key:"ready",value:function(){c(s(p.prototype),"ready",this).call(this),this.stop(),this.shadowRoot.querySelector("#a11y").target=this.shadowRoot.querySelector("#gifbutton")}},{key:"play",value:function(){this.__stopped=!0,this.toggleAnimation()}},{key:"stop",value:function(){this.__stopped=!1,this.toggleAnimation()}},{key:"toggleAnimation",value:function(){this.__stopped?(this.__stopped=!1,this.shadowRoot.querySelector("#svg").style.visibility="hidden",null!=this.src&&(this.shadowRoot.querySelector("#gif").src=this.src),this.shadowRoot.querySelector("#gif").alt=this.alt+" (Stop animation.)"):(this.__stopped=!0,this.shadowRoot.querySelector("#svg").style.visibility="visible",null!=this.srcWithoutAnimation&&(this.shadowRoot.querySelector("#gif").src=this.srcWithoutAnimation),this.shadowRoot.querySelector("#gif").alt=this.alt+" (Play animation.)")}}])&&r(h.prototype,f),y&&r(h,y),p}();window.customElements.define(p.tag,p),t.A11yGifPlayer=p,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=a11y-gif-player.umd.js.map
