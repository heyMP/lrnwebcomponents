{"version":3,"file":"lrn-vocab.umd.js","sources":["lrn-vocab.umd.js"],"sourcesContent":["/**\n * Copyright 2018 The Pennsylvania State University\n * @license Apache-2.0, see License.md for full text.\n */\nimport { html, PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { afterNextRender } from \"@polymer/polymer/lib/utils/render-status.js\";\nimport { FlattenedNodesObserver } from \"@polymer/polymer/lib/utils/flattened-nodes-observer.js\";\nimport { HAXWiring } from \"@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js\";\nimport { SchemaBehaviors } from \"@lrnwebcomponents/schema-behaviors/schema-behaviors.js\";\nimport \"@lrnwebcomponents/simple-modal/simple-modal.js\";\n/**\n`lrn-vocab`\nVocabulary term with visual treatment and semantic meaning.\n\n* @demo demo/index.html\n*/\nclass LrnVocab extends SchemaBehaviors(PolymerElement) {\n  constructor() {\n    super();\n    import(\"@polymer/paper-button/paper-button.js\");\n  }\n  static get template() {\n    return html`\n      <style>\n        :host {\n          display: inline-flex;\n          --lrn-vocab-border: 1px dashed #ccc;\n        }\n        paper-button {\n          text-transform: none;\n          padding: 0;\n          margin: 0;\n          position: relative;\n          top: 0px;\n          border-radius: 0;\n          border-bottom: var(--lrn-vocab-border);\n          background: #f5f5f5;\n          @apply --lrn-vocab-button;\n        }\n        paper-button:hover {\n          background: #bbdefb;\n          border-bottom: 1px dashed #2196f3;\n          @apply --lrn-vocab-button-hover;\n        }\n      </style>\n      <paper-button id=\"button\" noink on-click=\"openDialog\"\n        >[[term]]</paper-button\n      >\n    `;\n  }\n\n  static get tag() {\n    return \"lrn-vocab\";\n  }\n  static get properties() {\n    let props = {\n      /**\n       * Term to highlight / display\n       */\n      term: {\n        type: String,\n        reflectToAttribute: true\n      }\n    };\n    if (super.properties) {\n      props = Object.assign(props, super.properties);\n    }\n    return props;\n  }\n  /**\n   * Request the singleton dialog open\n   */\n  openDialog(e) {\n    let children = FlattenedNodesObserver.getFlattenedNodes(this).filter(\n      n => n.nodeType === Node.ELEMENT_NODE\n    );\n    let c = document.createElement(\"div\");\n    for (var child in children) {\n      c.appendChild(children[child].cloneNode(true));\n    }\n    const evt = new CustomEvent(\"simple-modal-show\", {\n      bubbles: true,\n      cancelable: true,\n      detail: {\n        title: this.term,\n        elements: {\n          content: c\n        },\n        invokedBy: this.shadowRoot.querySelector(\"#button\")\n      }\n    });\n    window.dispatchEvent(evt);\n  }\n  /**\n   * Attached life cycle\n   */\n  connectedCallback() {\n    super.connectedCallback();\n    afterNextRender(this, function() {\n      window.SimpleModal.requestAvailability();\n      this.HAXWiring = new HAXWiring();\n      this.HAXWiring.setup(LrnVocab.haxProperties, LrnVocab.tag, this);\n    });\n  }\n  static get haxProperties() {\n    return {\n      canScale: false,\n      canPosition: false,\n      canEditSource: false,\n      gizmo: {\n        title: \"Vocab\",\n        description: \"Vocabulary term\",\n        icon: \"image:details\",\n        color: \"red\",\n        groups: [\"Vocab\"],\n        handles: [\n          {\n            type: \"inline\",\n            text: \"term\"\n          }\n        ],\n        meta: {\n          author: \"LRNWebComponents\"\n        }\n      },\n      settings: {\n        quick: [\n          {\n            property: \"term\",\n            title: \"Term\",\n            description: \"The word or words to make clickable for more detail.\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\",\n            required: true\n          }\n        ],\n        configure: [\n          {\n            property: \"term\",\n            title: \"Term\",\n            description: \"The word or words to make clickable for more detail.\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\",\n            required: true\n          },\n          {\n            slot: \"\",\n            title: \"Contents\",\n            description: \"Contents to display in the pop up.\",\n            inputMethod: \"code-editor\",\n            required: true\n          }\n        ],\n        advanced: []\n      }\n    };\n  }\n}\nwindow.customElements.define(LrnVocab.tag, LrnVocab);\nexport { LrnVocab };\n"],"names":["LrnVocab","SchemaBehaviors","PolymerElement","html","props","term","type","String","reflectToAttribute","Object","assign","canScale","canPosition","canEditSource","gizmo","title","description","icon","color","groups","handles","text","meta","author","settings","quick","property","inputMethod","required","configure","slot","advanced","e","children","FlattenedNodesObserver","getFlattenedNodes","this","filter","n","nodeType","Node","ELEMENT_NODE","c","document","createElement","child","appendChild","cloneNode","evt","CustomEvent","bubbles","cancelable","detail","elements","content","invokedBy","shadowRoot","querySelector","window","dispatchEvent","afterNextRender","SimpleModal","requestAvailability","HAXWiring","setup","haxProperties","tag","customElements","define"],"mappings":"2qFAgBMA,8KAGK,iSAHYC,kBAAgBC,gEAM5BC,8CA8BA,mDAGHC,EAAQ,CAIVC,KAAM,CACJC,KAAMC,OACNC,oBAAoB,uCAItBJ,EAAQK,OAAOC,OAAON,8BAEjBA,8CAsCA,CACLO,UAAU,EACVC,aAAa,EACbC,eAAe,EACfC,MAAO,CACLC,MAAO,QACPC,YAAa,kBACbC,KAAM,gBACNC,MAAO,MACPC,OAAQ,CAAC,SACTC,QAAS,CACP,CACEd,KAAM,SACNe,KAAM,SAGVC,KAAM,CACJC,OAAQ,qBAGZC,SAAU,CACRC,MAAO,CACL,CACEC,SAAU,OACVX,MAAO,OACPC,YAAa,uDACbW,YAAa,YACbV,KAAM,eACNW,UAAU,IAGdC,UAAW,CACT,CACEH,SAAU,OACVX,MAAO,OACPC,YAAa,uDACbW,YAAa,YACbV,KAAM,eACNW,UAAU,GAEZ,CACEE,KAAM,GACNf,MAAO,WACPC,YAAa,qCACbW,YAAa,cACbC,UAAU,IAGdG,SAAU,6CAjFLC,OACLC,EAAWC,yBAAuBC,kBAAkBC,MAAMC,OAC5D,SAAAC,UAAKA,EAAEC,WAAaC,KAAKC,eAEvBC,EAAIC,SAASC,cAAc,WAC1B,IAAIC,KAASZ,EAChBS,EAAEI,YAAYb,EAASY,GAAOE,WAAU,QAEpCC,EAAM,IAAIC,YAAY,oBAAqB,CAC/CC,SAAS,EACTC,YAAY,EACZC,OAAQ,CACNrC,MAAOqB,KAAK/B,KACZgD,SAAU,CACRC,QAASZ,GAEXa,UAAWnB,KAAKoB,WAAWC,cAAc,cAG7CC,OAAOC,cAAcX,qGAOrBY,kBAAgBxB,KAAM,WACpBsB,OAAOG,YAAYC,2BACdC,UAAY,IAAIA,iBAChBA,UAAUC,MAAMhE,EAASiE,cAAejE,EAASkE,IAAK9B,6CAyDjEsB,OAAOS,eAAeC,OAAOpE,EAASkE,IAAKlE"}