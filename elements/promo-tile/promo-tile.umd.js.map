{"version":3,"file":"promo-tile.umd.js","sources":["promo-tile.umd.js"],"sourcesContent":["import { html, PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { afterNextRender } from \"@polymer/polymer/lib/utils/render-status.js\";\nimport { SchemaBehaviors } from \"@lrnwebcomponents/schema-behaviors/schema-behaviors.js\";\nimport { HAXWiring } from \"@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js\";\n/**\n * `promo-tile`\n * @demo demo/index.html\n */\nclass PromoTile extends SchemaBehaviors(PolymerElement) {\n  constructor() {\n    super();\n    import(\"@polymer/paper-button/paper-button.js\");\n    import(\"@polymer/iron-icon/iron-icon.js\");\n    import(\"@polymer/iron-icons/iron-icons.js\");\n    afterNextRender(this, function() {\n      this.HAXWiring = new HAXWiring();\n      this.HAXWiring.setup(PromoTile.haxProperties, PromoTile.tag, this);\n    });\n  }\n  static get template() {\n    return html`\n      <style>\n        :host {\n          display: block;\n          --tile-image: \"\";\n          --front-title-text-shadow: #363533;\n          --title-font-size: 34px;\n          --title-font-weight: 400;\n          --back-content-font-size: 18px;\n          --back-content-font-weight: 100;\n          --font-color: #fff;\n          --hover-background-color: #e2801e;\n          --button-hover-color: #363533;\n        }\n\n        a {\n          text-decoration: none;\n        }\n\n        #container {\n          width: 100%;\n          height: auto;\n        }\n\n        .back_card {\n          background-color: var(--hover-background-color);\n          height: 460px;\n          opacity: 0;\n          display: flex;\n          flex-direction: column;\n        }\n\n        :host([hover]) #container .back_card {\n          opacity: 0.9;\n          transition: all 0.3s ease-in-out;\n        }\n\n        :host([hover]) #container .front_card .front_title {\n          opacity: 0;\n          transition: all 0.3s ease-in-out;\n        }\n\n        .image {\n          display: flex;\n          justify-content: center;\n          background-image: var(--tile-image);\n          background-position: top center;\n          background-repeat: no-repeat;\n          background-size: cover;\n          width: 100%;\n          height: 100%;\n        }\n\n        .front_title {\n          opacity: 1;\n          position: absolute;\n          display: flex;\n          align-self: flex-end;\n          padding-bottom: 25px;\n        }\n\n        .front_title h1 {\n          color: var(--font-color);\n          font-size: var(--title-font-size);\n          font-weight: var(--title-font-weight);\n          text-shadow: 1px 1px 3px var(--front-title-text-shadow);\n        }\n\n        .back_title {\n          opacity: 1;\n          display: flex;\n          justify-content: center;\n          padding: 20px 0 0;\n        }\n\n        .back_title h1 {\n          color: var(--font-color);\n          font-size: var(--title-font-size);\n          font-weight: var(--title-font-weight);\n        }\n\n        .back_content {\n          color: var(--font-color);\n          font-size: var(--back-content-font-size);\n          font-weight: var(--back-content-font-weight);\n          padding: 0 20px;\n        }\n\n        paper-button#learn {\n          display: flex;\n          margin-top: 180px;\n          font-size: 16px;\n          color: var(--font-color);\n          border: solid 1px #fff;\n          border-radius: 0;\n          width: 50%;\n          margin-left: auto;\n          margin-right: auto;\n        }\n\n        paper-button#learn:hover,\n        paper-button#learn:focus {\n          background-color: var(--button-hover-color);\n        }\n      </style>\n\n      <div id=\"container\">\n        <div class=\"front_card\">\n          <div id=\"front_image\" class=\"image\" alt=\"[[alt]]\">\n            <div class=\"front_title\">\n              <h1>[[title]]</h1>\n            </div>\n            <div class=\"back_card\" id=\"cardBack\" on-click=\"activateBtn\">\n              <div class=\"back_title\">\n                <h1>[[title]]</h1>\n              </div>\n              <div class=\"back_content\">\n                <slot></slot>\n              </div>\n              <div class=\"learn_more\">\n                <a\n                  tabindex=\"-1\"\n                  href=\"[[url]]\"\n                  id=\"link\"\n                  target$=\"[[_urlTarget(url)]]\"\n                >\n                  <paper-button id=\"learn\" no-ink\n                    >[[label]]\n                    <iron-icon icon=\"chevron-right\"></iron-icon>\n                  </paper-button>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  static get tag() {\n    return \"promo-tile\";\n  }\n\n  static get properties() {\n    let props = {\n      /**\n       * Image source\n       */\n      image: {\n        type: String,\n        value: \"\",\n        reflectToAttribute: true\n      },\n      /**\n       * Alt text for image\n       */\n      alt: {\n        type: String,\n        value: \"\",\n        reflectToAttribute: true\n      },\n      /**\n       * Label for button\n       */\n      label: {\n        type: String,\n        value: \"\",\n        reflectToAttribute: true\n      },\n      /**\n       * Title of tile\n       */\n      title: {\n        type: String,\n        value: \"\",\n        reflectToAttribute: true\n      },\n      /**\n       * Url for tile\n       */\n      url: {\n        type: String,\n        value: \"\",\n        reflectToAttribute: true\n      },\n      /**\n       * Hover state\n       */\n      hover: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true\n      }\n    };\n    if (super.properties) {\n      props = Object.assign(props, super.properties);\n    }\n    return props;\n  }\n  static get observers() {\n    return [\"__updateStyles(image)\"];\n  }\n  /**\n   * Attached to the DOM, now fire.\n   */\n  connectedCallback() {\n    super.connectedCallback();\n    afterNextRender(this, function() {\n      this.addEventListener(\"mouseover\", this.__hoverIn.bind(this));\n      this.addEventListener(\"mouseout\", this.__hoverOut.bind(this));\n      this.addEventListener(\"focusin\", this.__hoverIn.bind(this));\n      this.addEventListener(\"focusout\", this.__hoverOut.bind(this));\n    });\n  }\n  disconnectedCallback() {\n    this.removeEventListener(\"mouseover\", this.__hoverIn.bind(this));\n    this.removeEventListener(\"mouseout\", this.__hoverOut.bind(this));\n    this.removeEventListener(\"focusin\", this.__hoverIn.bind(this));\n    this.removeEventListener(\"focusout\", this.__hoverOut.bind(this));\n    super.disconnectedCallback();\n  }\n  static get haxProperties() {\n    return {\n      canScale: true,\n      canPosition: true,\n      canEditSource: false,\n      gizmo: {\n        title: \"Promo-Tile\",\n        description: \"A tile element for promoting content.\",\n        icon: \"icons:dashboard\",\n        color: \"orange\",\n        groups: [\"Content\", \"Media\"],\n        handles: [\n          {\n            type: \"content\",\n            source: \"image\",\n            title: \"citation\",\n            url: \"source\"\n          }\n        ],\n        meta: {\n          author: \"LRNWebComponents\"\n        }\n      },\n      settings: {\n        quick: [\n          {\n            property: \"title\",\n            title: \"Title\",\n            description: \"The title of the tile\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          },\n          {\n            property: \"image\",\n            title: \"Image\",\n            description: \"The image of the tile\",\n            inputMethod: \"textfield\",\n            icon: \"editor:insert-photo\"\n          },\n          {\n            property: \"url\",\n            title: \"Link\",\n            description: \"The link of the tile\",\n            inputMethod: \"textfield\",\n            icon: \"editor:insert-link\"\n          }\n        ],\n        configure: [\n          {\n            property: \"title\",\n            title: \"Title\",\n            description: \"The title of the tile\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          },\n          {\n            property: \"image\",\n            title: \"Image\",\n            description: \"The image of the tile\",\n            inputMethod: \"textfield\",\n            icon: \"editor:insert-photo\"\n          },\n          {\n            property: \"alt\",\n            title: \"Alt\",\n            description: \"The alt text for the image\",\n            inputMethod: \"textfield\",\n            icon: \"editor:mode-edit\"\n          },\n          {\n            property: \"url\",\n            title: \"Link\",\n            description: \"The link of the tile\",\n            inputMethod: \"textfield\",\n            icon: \"editor:insert-link\"\n          },\n          {\n            property: \"label\",\n            title: \"Label\",\n            description: \"The label for the button\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          }\n        ],\n        advanced: []\n      }\n    };\n  }\n  __updateStyles(image) {\n    this.updateStyles({ \"--tile-image\": `url(${image})` });\n  }\n\n  /**\n   * Internal function to check if a url is external\n   */\n  _outsideLink(url) {\n    if (url.indexOf(\"http\") != 0) return false;\n    var loc = location.href,\n      path = location.pathname,\n      root = loc.substring(0, loc.indexOf(path));\n    return url.indexOf(root) != 0;\n  }\n\n  /**\n   * If url is external, open link in new window, otherwise open link in same window.\n   */\n  _urlTarget(url) {\n    if (url) {\n      const external = this._outsideLink(url);\n      if (external) {\n        return \"_blank\";\n      }\n    }\n    return false;\n  }\n\n  activateBtn() {\n    if (this.hover) {\n      const link = this.shadowRoot.querySelector(\"#link\");\n      if (window.innerWidth > 700) {\n        link.click();\n      }\n    }\n  }\n\n  __hoverIn() {\n    this.hover = true;\n  }\n  __hoverOut() {\n    this.hover = false;\n  }\n}\nwindow.customElements.define(PromoTile.tag, PromoTile);\nexport { PromoTile };\n"],"names":["PromoTile","afterNextRender","HAXWiring","setup","haxProperties","tag","this","SchemaBehaviors","PolymerElement","html","props","image","type","String","value","reflectToAttribute","alt","label","title","url","hover","Boolean","Object","assign","canScale","canPosition","canEditSource","gizmo","description","icon","color","groups","handles","source","meta","author","settings","quick","property","inputMethod","configure","advanced","addEventListener","__hoverIn","bind","__hoverOut","removeEventListener","updateStyles","indexOf","loc","location","href","path","pathname","root","substring","_outsideLink","link","shadowRoot","querySelector","window","innerWidth","click","customElements","define"],"mappings":"g2KAQMA,uOAGK,gDACA,0CACA,qCACPC,uBAAsB,gBACfC,UAAY,IAAIA,iBAChBA,UAAUC,MAAMH,EAAUI,cAAeJ,EAAUK,IAAKC,gQAR3CC,kBAAgBC,gEAY7BC,8CA4IA,oDAIHC,EAAQ,CAIVC,MAAO,CACLC,KAAMC,OACNC,MAAO,GACPC,oBAAoB,GAKtBC,IAAK,CACHJ,KAAMC,OACNC,MAAO,GACPC,oBAAoB,GAKtBE,MAAO,CACLL,KAAMC,OACNC,MAAO,GACPC,oBAAoB,GAKtBG,MAAO,CACLN,KAAMC,OACNC,MAAO,GACPC,oBAAoB,GAKtBI,IAAK,CACHP,KAAMC,OACNC,MAAO,GACPC,oBAAoB,GAKtBK,MAAO,CACLR,KAAMS,QACNP,OAAO,EACPC,oBAAoB,uCAItBL,EAAQY,OAAOC,OAAOb,8BAEjBA,0CAGA,CAAC,qEAsBD,CACLc,UAAU,EACVC,aAAa,EACbC,eAAe,EACfC,MAAO,CACLT,MAAO,aACPU,YAAa,wCACbC,KAAM,kBACNC,MAAO,SACPC,OAAQ,CAAC,UAAW,SACpBC,QAAS,CACP,CACEpB,KAAM,UACNqB,OAAQ,QACRf,MAAO,WACPC,IAAK,WAGTe,KAAM,CACJC,OAAQ,qBAGZC,SAAU,CACRC,MAAO,CACL,CACEC,SAAU,QACVpB,MAAO,QACPU,YAAa,wBACbW,YAAa,YACbV,KAAM,gBAER,CACES,SAAU,QACVpB,MAAO,QACPU,YAAa,wBACbW,YAAa,YACbV,KAAM,uBAER,CACES,SAAU,MACVpB,MAAO,OACPU,YAAa,uBACbW,YAAa,YACbV,KAAM,uBAGVW,UAAW,CACT,CACEF,SAAU,QACVpB,MAAO,QACPU,YAAa,wBACbW,YAAa,YACbV,KAAM,gBAER,CACES,SAAU,QACVpB,MAAO,QACPU,YAAa,wBACbW,YAAa,YACbV,KAAM,uBAER,CACES,SAAU,MACVpB,MAAO,MACPU,YAAa,6BACbW,YAAa,YACbV,KAAM,oBAER,CACES,SAAU,MACVpB,MAAO,OACPU,YAAa,uBACbW,YAAa,YACbV,KAAM,sBAER,CACES,SAAU,QACVpB,MAAO,QACPU,YAAa,2BACbW,YAAa,YACbV,KAAM,iBAGVY,SAAU,4GAlGdxC,kBAAgBK,KAAM,gBACfoC,iBAAiB,YAAapC,KAAKqC,UAAUC,KAAKtC,YAClDoC,iBAAiB,WAAYpC,KAAKuC,WAAWD,KAAKtC,YAClDoC,iBAAiB,UAAWpC,KAAKqC,UAAUC,KAAKtC,YAChDoC,iBAAiB,WAAYpC,KAAKuC,WAAWD,KAAKtC,6DAIpDwC,oBAAoB,YAAaxC,KAAKqC,UAAUC,KAAKtC,YACrDwC,oBAAoB,WAAYxC,KAAKuC,WAAWD,KAAKtC,YACrDwC,oBAAoB,UAAWxC,KAAKqC,UAAUC,KAAKtC,YACnDwC,oBAAoB,WAAYxC,KAAKuC,WAAWD,KAAKtC,uGA2F7CK,QACRoC,aAAa,8BAAyBpC,8CAMhCQ,MACgB,GAAvBA,EAAI6B,QAAQ,QAAc,OAAO,MACjCC,EAAMC,SAASC,KACjBC,EAAOF,SAASG,SAChBC,EAAOL,EAAIM,UAAU,EAAGN,EAAID,QAAQI,WACV,GAArBjC,EAAI6B,QAAQM,sCAMVnC,MACLA,GACeb,KAAKkD,aAAarC,SAE1B,gBAGJ,2CAIHb,KAAKc,MAAO,KACRqC,EAAOnD,KAAKoD,WAAWC,cAAc,SACvCC,OAAOC,WAAa,KACtBJ,EAAKK,kDAMJ1C,OAAQ,4CAGRA,OAAQ,uCAGjBwC,OAAOG,eAAeC,OAAOhE,EAAUK,IAAKL"}